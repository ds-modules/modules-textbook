<!DOCTYPE html>
<html lang="en">
  

  <head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width,minimum-scale=1">

  <title>Moral Foundations Analysis</title>
  <meta name="description" content="Data Analysis: Moral Foundations Theory">

  <link rel="canonical" href="http://ds-modules.github.io/modules-textbook/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis.html">
  <link rel="alternate" type="application/rss+xml" title="UC Berkeley Data Science Modules" href="http://ds-modules.github.io/modules-textbook/feed.xml">

  <meta property="og:url"         content="http://ds-modules.github.io/modules-textbook/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis.html" />
<meta property="og:type"        content="article" />
<meta property="og:title"       content="Moral Foundations Analysis" />
<meta property="og:description" content="Data Analysis: Moral Foundations Theory" />
<meta property="og:image"       content="" />


  <script type="application/ld+json">
  {
  "@context": "http://schema.org",
  "@type": "NewsArticle",
  "mainEntityOfPage":
    "http://ds-modules.github.io/modules-textbook/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis.html",
  "headline":
    "Moral Foundations Analysis",
  "datePublished":
    "2019-10-31T10:01:27-07:00",
  "dateModified":
    "2019-10-31T10:01:27-07:00",
  "description":
    "Data Analysis: Moral Foundations Theory",
  "author": {
    "@type": "Person",
    "name": "Alex Nakagawa"
  },
  "publisher": {
    "@type": "Organization",
    "name": "Data 100 at UC Berkeley",
    "logo": {
      "@type": "ImageObject",
      "url": "http://ds-modules.github.io/modules-textbook",
      "width": 60,
      "height": 60
    }
  },
  "image": {
    "@type": "ImageObject",
    "url": "http://ds-modules.github.io/modules-textbook",
    "height": 60,
    "width": 60
  }
}

  </script>
  <link rel="stylesheet" href="/modules-textbook/assets/css/styles.css">
  <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css ">
  <link rel="apple-touch-icon" sizes="57x57" href="/apple-touch-icon-57x57.png">
  <link rel="apple-touch-icon" sizes="60x60" href="/apple-touch-icon-60x60.png">
  <link rel="apple-touch-icon" sizes="72x72" href="/apple-touch-icon-72x72.png">
  <link rel="apple-touch-icon" sizes="76x76" href="/apple-touch-icon-76x76.png">
  <link rel="apple-touch-icon" sizes="114x114" href="/apple-touch-icon-114x114.png">
  <link rel="apple-touch-icon" sizes="120x120" href="/apple-touch-icon-120x120.png">
  <link rel="apple-touch-icon" sizes="144x144" href="/apple-touch-icon-144x144.png">
  <link rel="apple-touch-icon" sizes="152x152" href="/apple-touch-icon-152x152.png">
  <link rel="apple-touch-icon" sizes="180x180" href="/apple-touch-icon-180x180.png">

  <!-- <link rel="manifest" href="/manifest.json"> -->
  <!-- <link rel="mask-icon" href="/safari-pinned-tab.svg" color="#efae0a"> -->
  <meta name="msapplication-TileColor" content="#da532c">
  <meta name="msapplication-TileImage" content="/mstile-144x144.png">
  <meta name="theme-color" content="#233947">

  <!-- Favicon -->
  <link rel="shortcut icon" type="image/x-icon" href="/modules-textbook/images/logo/favicon.ico">

  <!-- MathJax Config -->
  <!-- Allow inline math using $ and automatically break long math lines -->
<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"] ],
        displayMath: [ ['$$','$$'], ["\\[","\\]"] ],
        processEscapes: true,
        processEnvironments: true
    },
    CommonHTML: {
        linebreaks: {
            automatic: true,
        },
    },
});
</script>
<script src='https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS_CHTML' async></script>

  <!-- DOM updating function -->
  <script>
const runWhenDOMLoaded = cb => {
  if (document.readyState != 'loading') {
    cb()
  } else if (document.addEventListener) {
    document.addEventListener('DOMContentLoaded', cb)
  } else {
    document.attachEvent('onreadystatechange', function() {
      if (document.readyState == 'complete') cb()
    })
  }
}

// Helper function to init things quickly
initFunction = function(myfunc) {
  runWhenDOMLoaded(myfunc);
  document.addEventListener('turbolinks:load', myfunc);
};
</script>

  <!-- Define some javascript variables that will be useful in other javascript -->
  <script>
    const site_basename = '/modules-textbook';
  </script>

  <!-- Add AnchorJS to let headers be linked -->
  <script src="/modules-textbook/assets/js/anchor.min.js"  type="text/javascript"></script>
  <script>

initFunction(function () {
    anchors.add("main h1, main h2, main h3, main h4")
});

</script>

  <!-- Include Turbolinks to make page loads fast -->
  <!-- https://github.com/turbolinks/turbolinks -->
  <script src="/modules-textbook/assets/js/turbolinks.js" async></script>
  <meta name="turbolinks-cache-control" content="no-cache">

  <!-- Load nbinteract for widgets -->
  <script src="https://unpkg.com/nbinteract-core" async></script>

  <!-- Load Thebelab for interactive widgets -->
  <!-- Include Thebelab for interactive code if it's enabled -->

<script type="text/x-thebe-config">
    {
      requestKernel: true,
      binderOptions: {
        repo: 'ds-modules/modules-textbook',
        ref: 'master',
      },
      kernelOptions: {
        name: 'python3',
      }
    }
</script>
<script src="https://unpkg.com/thebelab@0.3.3/lib/index.js"></script>
<script>
    /**
     * Add attributes to Thebelab blocks
     */

    const initThebelab = () => {
        const addThebelabToCodeCells = () => {
            console.log("Adding thebelab to code cells...");
            // If Thebelab hasn't loaded, wait a bit and try again. This
            // happens because we load ClipboardJS asynchronously.
            if (window.thebelab === undefined) {
                setTimeout(addThebelabToCodeCells, 250)
            return
            }

            // If we already detect a Thebelab cell, don't re-run
            if (document.querySelectorAll('div.thebelab-cell').length > 0) {
                return;
            }

            // Find all code cells, replace with Thebelab interactive code cells
            const codeCells = document.querySelectorAll('.input_area pre')
            codeCells.forEach((codeCell, index) => {
                const id = codeCellId(index)
                codeCell.setAttribute('data-executable', 'true')

                // Figure out the language it uses and add this too
                var parentDiv = codeCell.parentElement.parentElement;
                var arrayLength = parentDiv.classList.length;
                for (var ii = 0; ii < arrayLength; ii++) {
                    var parts = parentDiv.classList[ii].split('language-');
                    if (parts.length === 2) {
                        // If found, assign dataLanguage and break the loop
                        var dataLanguage = parts[1];
                        break;
                    }
                }
                codeCell.setAttribute('data-language', dataLanguage)

                // If the code cell is hidden, show it
                var inputCheckbox = document.querySelector(`input#hidebtn${codeCell.id}`);
                if (inputCheckbox !== null) {
                    setCodeCellVisibility(inputCheckbox, 'visible');
                }
            });

            // Remove the event listener from the page so keyboard press doesn't
            // Change page
            document.removeEventListener('keydown', initPageNav)
            keyboardListener = false;

            // Init thebelab
            thebelab.bootstrap();

            // Remove copy buttons since they won't work anymore
            const copyButtons = document.querySelectorAll('.copybtn')
            copyButtons.forEach((copyButton, index) => {
                copyButton.remove();
            });

            // Remove outputs since they'll be stale
            const outputs = document.querySelectorAll('.output *, .output')
            outputs.forEach((output, index) => {
                output.remove();
            });
        }

        // Add event listener for the function to modify code cells
        const thebelabButton = document.getElementById('interact-button-thebelab');
        if (thebelabButton === null) {
            setTimeout(initThebelab, 250)
        return
        };
        thebelabButton.addEventListener('click', addThebelabToCodeCells);
    }

    // Initialize Thebelab
    initFunction(initThebelab);
</script>


  <!-- Google analytics -->
  <script src="/modules-textbook/assets/js/ga.js" async></script>

  <!-- Clipboard copy button -->
  <script src="https://cdn.jsdelivr.net/npm/clipboard@2/dist/clipboard.min.js" async></script>

  <!-- Load JS that depends on site variables -->
  <script>
/**
 * Set up copy/paste for code blocks
 */
const codeCellId = index => `codecell${index}`

const clipboardButton = id =>
  `<a class="btn copybtn o-tooltip--left" data-tooltip="Copy" data-clipboard-target="#${id}">
    <img src="/modules-textbook/assets/images/copy-button.svg" alt="Copy to clipboard">
  </a>`

// Clears selected text since ClipboardJS will select the text when copying
const clearSelection = () => {
  if (window.getSelection) {
    window.getSelection().removeAllRanges()
  } else if (document.selection) {
    document.selection.empty()
  }
}

// Changes tooltip text for two seconds, then changes it back
const temporarilyChangeTooltip = (el, newText) => {
  const oldText = el.getAttribute('data-tooltip')
  el.setAttribute('data-tooltip', newText)
  setTimeout(() => el.setAttribute('data-tooltip', oldText), 2000)
}

const addCopyButtonToCodeCells = () => {
  // If ClipboardJS hasn't loaded, wait a bit and try again. This
  // happens because we load ClipboardJS asynchronously.
  if (window.ClipboardJS === undefined) {
    setTimeout(addCopyButtonToCodeCells, 250)
    return
  }

  const codeCells = document.querySelectorAll('div.highlighter-rouge:not(.output) pre')
  codeCells.forEach((codeCell, index) => {
    const id = codeCellId(index)
    codeCell.setAttribute('id', id)
    if (document.querySelector(`pre#${id} + a`) == null) {
      codeCell.insertAdjacentHTML('afterend', clipboardButton(id));
    }
  })

  const clipboard = new ClipboardJS('.copybtn')
  clipboard.on('success', event => {
    clearSelection()
    temporarilyChangeTooltip(event.trigger, 'Copied!')
  })

  clipboard.on('error', event => {
    temporarilyChangeTooltip(event.trigger, 'Failed to copy')
  })

  // Get rid of clipboard before the next page visit to avoid memory leak
  document.addEventListener('turbolinks:before-visit', () =>
    clipboard.destroy()
  )
}

initFunction(addCopyButtonToCodeCells);
</script>

  <!-- Hide cell code -->
  
<script>
/**
Add buttons to hide code cells
*/


var setCodeCellVisibility = function(inputField, kind) {
    // Update the image and class for hidden
    var id = inputField.getAttribute('data-id');
    var codeCell = document.querySelector(`#${id}`);

    if (kind === "visible") {
        codeCell.classList.remove('hidden');
        inputField.checked = true;
    } else {
        codeCell.classList.add('hidden');
        inputField.checked = false;
    }
}

var toggleCodeCellVisibility = function (event) {
    // The label is clicked, and now we decide what to do based on the input field's clicked status
    if (event.target.tagName === "LABEL") {
        var inputField = event.target.previousElementSibling;
    } else {
        // It is the span inside the target
        var inputField = event.target.parentElement.previousElementSibling;
    }

    if (inputField.checked === true) {
        setCodeCellVisibility(inputField, "visible");
    } else {
        setCodeCellVisibility(inputField, "hidden");
    }
}


// Button constructor
const hideCodeButton = id => `<input class="hidebtn" type="checkbox" id="hidebtn${id}" data-id="${id}"><label title="Toggle cell" for="hidebtn${id}" class="plusminus"><span class="pm_h"></span><span class="pm_v"></span></label>`

var addHideButton = function () {
  // If a hide button is already added, don't add another
  if (document.querySelector('div.hidecode input') !== null) {
      return;
  }

  // Find the input cells and add a hide button
  document.querySelectorAll('div.input_area div.highlight').forEach(function (item, index) {
    if (!item.parentElement.classList.contains("hidecode")) {
        // Skip the cell if it doesn't have a hidecode class
        return;
    }

    const id = codeCellId(index)
    item.setAttribute('id', id);
    item.insertAdjacentHTML('afterend', hideCodeButton(id))

    // Set up the visibility toggle
    hideLink = document.querySelector(`#${id} + input + label`);
    hideLink.addEventListener('click', toggleCodeCellVisibility)
  });
}


// Initialize the hide buttos
var initHiddenCells = function () {
    // Add hide buttons to the cells
    addHideButton();

    // Toggle the code cells that should be hidden
    document.querySelectorAll('div.hidecode input').forEach(function (item) {
        setCodeCellVisibility(item, 'hidden');
        item.checked = true;
    })
}

initFunction(initHiddenCells);

</script>


  <!-- Load custom website scripts -->
  <script src="/modules-textbook/assets/js/scripts.js" async></script>

  <!-- Load custom user CSS and JS  -->
  <script src="/modules-textbook/assets/custom/custom.js" async></script>
  <link rel="stylesheet" href="/modules-textbook/assets/custom/custom.css">

  <!-- Update interact links w/ REST param, is defined in includes so we can use templates -->
  
<script>
/**
  * To auto-embed hub URLs in interact links if given in a RESTful fashion
 */

function getJsonFromUrl(url) {
  var query = url.split('?');
  if (query.length < 2) {
    // No queries so just return false
    return false;
  }
  query = query[1];
  // Collect REST params into a dictionary
  var result = {};
  query.split("&").forEach(function(part) {
    var item = part.split("=");
    result[item[0]] = decodeURIComponent(item[1]);
  });
  return result;
}
    
function dict2param(dict) {
    params = Object.keys(dict).map(function(k) {
        return encodeURIComponent(k) + '=' + encodeURIComponent(dict[k])
    });
    return params.join('&')
}

// Parse a Binder URL, converting it to the string needed for JupyterHub
function binder2Jupyterhub(url) {
  newUrl = {};
  parts = url.split('v2/gh/')[1];
  // Grab the base repo information
  repoinfo = parts.split('?')[0];
  var [org, repo, ref] = repoinfo.split('/');
  newUrl['repo'] = ['https://github.com', org, repo].join('/');
  newUrl['branch'] = ref
  // Grab extra parameters passed
  params = getJsonFromUrl(url);
  if (params['filepath'] !== undefined) {
    newUrl['subPath'] = params['filepath']
  }
  return dict2param(newUrl);
}

// Filter out potentially unsafe characters to prevent xss
function safeUrl(url)
{
   return String(encodeURIComponent(url))
            .replace(/&/g, '&amp;')
            .replace(/"/g, '&quot;')
            .replace(/'/g, '&#39;')
            .replace(/</g, '&lt;')
            .replace(/>/g, '&gt;');
}

function addParamToInternalLinks(hub) {
  var links = document.querySelectorAll("a").forEach(function(link) {
    var href = link.href;
    // If the link is an internal link...
    if (href.search("http://ds-modules.github.io") !== -1 || href.startsWith('/') || href.search("127.0.0.1:") !== -1) {
      // Assume we're an internal link, add the hub param to it
      var params = getJsonFromUrl(href);
      if (params !== false) {
        // We have REST params, so append a new one
        params['jupyterhub'] = hub;
      } else {
        // Create the REST params
        params = {'jupyterhub': hub};
      }
      // Update the link
      var newHref = href.split('?')[0] + '?' + dict2param(params);
      link.setAttribute('href', decodeURIComponent(newHref));
    }
  });
  return false;
}


// Update interact links
function updateInteractLink() {
    // hack to make this work since it expects a ? in the URL
    rest = getJsonFromUrl("?" + location.search.substr(1));
    jupyterHubUrl = rest['jupyterhub'];
    var hubType = null;
    var hubUrl = null;
    if (jupyterHubUrl !== undefined) {
      hubType = 'jupyterhub';
      hubUrl = jupyterHubUrl;
    }

    if (hubType !== null) {
      // Sanitize the hubUrl
      hubUrl = safeUrl(hubUrl);

      // Add HTTP text if omitted
      if (hubUrl.indexOf('http') < 0) {hubUrl = 'http://' + hubUrl;}
      var interactButtons = document.querySelectorAll("button.interact-button")
      var lastButton = interactButtons[interactButtons.length-1];
      var link = lastButton.parentElement;

      // If we've already run this, skip the link updating
      if (link.nextElementSibling !== null) {
        return;
      }

      // Update the link and add context div
      var href = link.getAttribute('href');
      if (lastButton.id === 'interact-button-binder') {
        // If binder links exist, we need to re-work them for jupyterhub
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // If localhost, assume we're working from a local Jupyter server and remove `/hub`
          first = [hubUrl, 'git-sync'].join('/')
        } else {
          first = [hubUrl, 'hub', 'user-redirect', 'git-sync'].join('/')
        }
        href = first + '?' + binder2Jupyterhub(href);
      } else {
        // If interact button isn't binderhub, assume it's jupyterhub
        // If JupyterHub links, we only need to replace the hub url
        href = href.replace("https://datahub.berkeley.edu", hubUrl);
        if (hubUrl.indexOf('http%3A%2F%2Flocalhost') > -1) {
          // Assume we're working from a local Jupyter server and remove `/hub`
          href = href.replace("/hub/user-redirect", "");
        }
      }
      link.setAttribute('href', decodeURIComponent(href));

      // Add text after interact link saying where we're launching
      hubUrlNoHttp = decodeURIComponent(hubUrl).replace('http://', '').replace('https://', '');
      link.insertAdjacentHTML('afterend', '<div class="interact-context">on ' + hubUrlNoHttp + '</div>');

      // Update internal links so we retain the hub url
      addParamToInternalLinks(hubUrl);
    }
}

runWhenDOMLoaded(updateInteractLink)
document.addEventListener('turbolinks:load', updateInteractLink)
</script>


  <!-- Lunr search code - will only be executed on the /search page -->
  <script src="/modules-textbook/assets/js/lunr/lunr.min.js" type="text/javascript"></script>
  <script>var initQuery = function() {
  // See if we have a search box
  var searchInput = document.querySelector('input#lunr_search');
  if (searchInput === null) {
    return;
  }

  // Function to parse our lunr cache
  var idx = lunr(function () {
    this.field('title')
    this.field('excerpt')
    this.field('categories')
    this.field('tags')
    this.ref('id')

    this.pipeline.remove(lunr.trimmer)

    for (var item in store) {
      this.add({
        title: store[item].title,
        excerpt: store[item].excerpt,
        categories: store[item].categories,
        tags: store[item].tags,
        id: item
      })
    }
  });

  // Run search upon keyup
  searchInput.addEventListener('keyup', function () {
    var resultdiv = document.querySelector('#results');
    var query = document.querySelector("input#lunr_search").value.toLowerCase();
    var result =
      idx.query(function (q) {
        query.split(lunr.tokenizer.separator).forEach(function (term) {
          q.term(term, { boost: 100 })
          if(query.lastIndexOf(" ") != query.length-1){
            q.term(term, {  usePipeline: false, wildcard: lunr.Query.wildcard.TRAILING, boost: 10 })
          }
          if (term != ""){
            q.term(term, {  usePipeline: false, editDistance: 1, boost: 1 })
          }
        })
      });

      // Empty the results div
      while (resultdiv.firstChild) {
        resultdiv.removeChild(resultdiv.firstChild);
      }

    resultdiv.insertAdjacentHTML('afterbegin', '<p class="results__found">'+result.length+' Result(s) found</p>');
    for (var item in result) {
      var ref = result[item].ref;
      if(store[ref].teaser){
        var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<div class="archive__item-teaser">'+
                '<img src="'+store[ref].teaser+'" alt="">'+
              '</div>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      else{
    	  var searchitem =
          '<div class="list__item">'+
            '<article class="archive__item" itemscope itemtype="https://schema.org/CreativeWork">'+
              '<h2 class="archive__item-title" itemprop="headline">'+
                '<a href="'+store[ref].url+'" rel="permalink">'+store[ref].title+'</a>'+
              '</h2>'+
              '<p class="archive__item-excerpt" itemprop="description">'+store[ref].excerpt.split(" ").splice(0,20).join(" ")+'...</p>'+
            '</article>'+
          '</div>';
      }
      resultdiv.insertAdjacentHTML('beforeend', searchitem);
    }
  });
};

initFunction(initQuery);
</script>
</head>

  <body>
    <!-- .js-show-sidebar shows sidebar by default -->
    <div id="js-textbook" class="c-textbook js-show-sidebar">
      



<nav id="js-sidebar" class="c-textbook__sidebar">
  <a href="https://ds-modules.github.io/modules-textbook"><img src="/modules-textbook/images/logo/logo.png" class="textbook_logo" id="sidebar-logo" data-turbolinks-permanent/></a>
  <h2 class="c-sidebar__title">UC Berkeley Data Science Modules</h2>
  <ul class="c-sidebar__chapters">
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/intro.html"
        >
          
          Home
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="https://github.com/ds-modules/"
        >
          
          DSEP Modules Repository
        </a>

        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="https://ds-modules.github.io/curriculum-guide/intro"
        >
          
          Data Science Curriculum Guide
        </a>

        
      </li>

      
    
      
      
        <li class="c-sidebar__chapter"><a class="c-sidebar__entry" href="/modules-textbook/search.html">Search</a></li>
        
      
      
        <li class="c-sidebar__divider"></li>
        
      
      
        <li><h2 class="c-sidebar__title">Introduction</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/introduction/ds-intro.html"
        >
          
          Data Science in Python and Jupyter
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections ">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/introduction/intro-module-final.html"
                >
                  
                  Intro to Python and Jupyter
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li><h2 class="c-sidebar__title">Social Sciences</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/legalst-190/legalst-190-intro.html"
        >
          
          Legal Studies
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/legalst-190/1-18.html"
                >
                  
                  Intro to Python
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/legalst-190/ps1/SF_Crime_PSET1.html"
                >
                  
                  Problem Set 1
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/psych-167ac/psych-167ac-intro.html"
        >
          
          Psychology
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/psych-167ac/01-intro.html"
                >
                  
                  Introduction
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/psych-167ac/02-correlation-regression.html"
                >
                  
                  Correlation & Regression
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/psych-167ac/03-my-project.html"
                >
                  
                  My Project
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li><h2 class="c-sidebar__title">Arts and Humanities</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/xenglish-r1a/xenglish-r1a-intro.html"
        >
          
          English
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/xenglish-r1a/01-Chinatowns.html"
                >
                  
                  Chinatowns
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
      
      
        <li><h2 class="c-sidebar__title">Professional</li>
        
      
      

      
      

      
      
      <li class="c-sidebar__chapter">
        <a class="c-sidebar__entry "
          href="/modules-textbook/cp-101/cp-101-intro.html"
        >
          
          City Planning
        </a>

        

          
          
          
          

          

          <ul class="c-sidebar__sections u-hidden-visually">
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/cp-101/lab07/lab07.html"
                >
                  
                  Lab 7
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/cp-101/lab08/lab08.html"
                >
                  
                  Lab 8
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/cp-101/lab09/lab09.html"
                >
                  
                  Lab 9
                </a>

                
                

              </li>
              
            
              
              

              <li class="c-sidebar__section">
                <a class="c-sidebar__entry "
                  href="/modules-textbook/cp-101/lab10/lab10.html"
                >
                  
                  Lab 10
                </a>

                
                

              </li>
              
            
          </ul>
        
      </li>

      
    
  </ul>
  <p class="sidebar_footer">Powered by <a href="https://github.com/jupyter/jupyter-book">Jupyter Book</a></p>
</nav>

      
      <!-- Shamelessly copied from minimal mistakes -->


<!-- TOC will only show up if it has at least one item -->


  <aside class="sidebar__right">
    <nav class="onthispage">
      <header><h4 class="nav__title"><i class="fa fa-list"></i>   On this page</h4></header>
      <ul class="toc__menu">
  <li><a href="#professor-amy-tick">Professor Amy Tick</a></li>
  <li><a href="#topics-covered">Topics Covered</a></li>
  <li><a href="#table-of-contents">Table of Contents</a></li>
  <li><a href="#2016-campaign-speeches-">2016 Campaign Speeches </a></li>
  <li><a href="#moral-foundations-dictionary-">Moral Foundations Dictionary </a></li>
  <li><a href="#calculating-percentages-">Calculating Percentages </a></li>
  <li><a href="#filtering-table-rows-">Filtering table rows </a></li>
  <li><a href="#democrats-">Democrats </a></li>
  <li><a href="#republicans-">Republicans </a></li>
  <li><a href="#democrats-vs-republicans-">Democrats vs Republicans </a></li>
</ul>
    </nav>
  </aside>


      
      <main class="c-textbook__page" tabindex="-1">
          <div class="o-wrapper">
            <div class="c-sidebar-toggle">
  <!-- We show the sidebar by default so we use .is-active -->
  <button
    id="js-sidebar-toggle"
    class="hamburger hamburger--arrowalt is-active"
  >
    <span class="hamburger-box">
      <span class="hamburger-inner"></span>
    </span>
    <span class="c-sidebar-toggle__label">Toggle Sidebar</span>
  </button>
</div>

            
<div class="buttons">
<a href="/modules-textbook/content/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis.ipynb" download>
<button id="interact-button-download" class="interact-button">Download</button>
</a>

<button id="interact-button-thebelab" class="interact-button">Thebelab</button>








<a href="https://mybinder.org/v2/gh/ds-modules/modules-textbook/master?filepath=content%2Frhetoric%2F02-Moral-Foundations-Analysis%2F02-Moral-Foundations-Analysis.ipynb"><button class="interact-button" id="interact-button-binder"><img class="interact-button-logo" src="/modules-textbook/assets/images/logo_binder.svg" alt="Interact" />Binder</button></a>






<a href="https://datahub.berkeley.edu/hub/user-redirect/git-pull?repo=https://github.com//ds-modules/modules-textbook&amp;branch=master&amp;subPath=content%2Frhetoric%2F02-Moral-Foundations-Analysis%2F02-Moral-Foundations-Analysis.ipynb&amp;app=notebook"><button class="interact-button" id="interact-button-jupyterhub"><img class="interact-button-logo" src="/modules-textbook/assets/images/logo_jupyterhub.svg" alt="Interact" />DataHub</button></a>



</div>


            <div class="c-textbook__content">
              <h1 id="data-analysis-moral-foundations-theory">Data Analysis: Moral Foundations Theory</h1>
<hr />
<p><img src="https://c1.staticflickr.com/7/6240/6261650491_0cd6c701bb_b.jpg" style="width: 500px; height: 275px;" /></p>

<h3 id="professor-amy-tick">Professor Amy Tick</h3>

<p>Moral Foundations Theory (MFT) hypothesizes that people’s sensitivity to the foundations is different based on their political ideology: liberals are more sensitive to care and fairness, while conservatives are equally sensitive to all five. Here, we’ll explore whether we can find evidence for MFT in the campaign speeches of 2016 United States presidential candidates. For our main analysis, we’ll go through the data science process start to finish to recreate a simplified version of the analysis done by Jesse Graham, Jonathan Haidt, and Brian A. Nosek in their 2009 paper <a href="http://projectimplicit.net/nosek/papers/GHN2009.pdf">“Liberals and Conservatives Rely on Different Sets of Moral Foundations”</a>. Finally, we’ll explore other ways to visualize and use this data in rhetorical analysis.</p>

<p><em>Estimated Time: 50 minutes</em></p>

<hr />

<h3 id="topics-covered">Topics Covered</h3>
<ul>
  <li>Word count using a dictionary</li>
  <li>Data visualization with pandas</li>
  <li>Graph interpretations</li>
</ul>

<h3 id="table-of-contents">Table of Contents</h3>

<p>1 - <a href="#section 1">Data Set and Test Statistic</a><br /></p>

<p>       1.1 - <a href="#subsection 1">2016 Campaign Speeches</a><br /></p>

<p>       1.2 - <a href="#subsection 2">Moral Foundations Dictionary</a> <br /></p>

<p>2 - <a href="#section 2">Data Analysis</a><br />
       2.1 - <a href="#subsection 3">Calculating Perceptages</a><br /></p>

<p>       2.2 - <a href="#subsection 4">Filtering Table Rows</a><br /></p>

<p>       2.3 - <a href="#subsection 5">Democrats</a> <br /></p>

<p>       2.4 - <a href="#subsection 6">Republicans</a> <br /></p>

<p>       2.5 - <a href="#subsection 7">Democrats vs Republicans</a> <br /></p>

<p>3 - <a href="#section 3">Additional Visualizations</a><br /></p>

<p>4 - <a href="#section 4">Assignment: Run Analysis with Your Dictionary</a><br /></p>

<p><strong>Dependencies:</strong></p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="n">np</span>
<span class="kn">import</span> <span class="nn">pandas</span> <span class="k">as</span> <span class="n">pd</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="n">plt</span>
<span class="o">%</span><span class="n">matplotlib</span> <span class="n">inline</span>
<span class="kn">import</span> <span class="nn">json</span>
<span class="kn">from</span> <span class="nn">nltk.stem.snowball</span> <span class="kn">import</span> <span class="n">SnowballStemmer</span>
<span class="kn">import</span> <span class="nn">os</span>
<span class="kn">import</span> <span class="nn">re</span>
</code></pre></div></div>

<hr />
<h2 id="intro-the-data-science-process">Intro: The Data Science Process</h2>

<p>Module 01 defined data science as an interdisciplinary field, combining statistics, computer science, and domain expertise to understand the world and solve problems. The data science process can be thought of like this:</p>

<p><img src="https://upload.wikimedia.org/wikipedia/commons/b/ba/Data_visualization_process_v1.png" style="width: 550px; height: 400px;" /></p>

<p>This module walks through a simplified version of the process to explore speech data and probe Moral Foundations Theory. Steps done in this module are in bold.</p>

<ol>
  <li>Raw Data Collection: speech data is collected into csv files via web-scraping.</li>
  <li><strong>Data Processing/Cleaning</strong>: speech data is transformed to enable analysis. Some processing/cleaning has already been done.</li>
  <li><strong>Exploratory Data Analysis</strong>: transform, visualize, and summarize data with the goal of understanding the data set, finding possible issues, and looking for potential questions to explore further.</li>
  <li><strong>Models and Algorithms</strong>: develop and test a <em>model</em>- a theory of how the data was generated (in this case, Moral Foundations Theory).</li>
  <li>Communicate, Visualize, Report: to be discussed in Module 03.</li>
</ol>

<hr />
<h2 id="part-1-speech-data-and-foundations-dictionary--">Part 1: Speech Data and Foundations Dictionary  <a id="section 1"></a></h2>

<p>In Part 1, we’ll get familiar with our data set and determine a way to answer questions using the data.</p>

<h3 id="2016-campaign-speeches-">2016 Campaign Speeches <a id="subsection 1"></a></h3>

<p>Run the cell below to load the data.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># load the data from csv files into a table. </span>
<span class="n">speeches</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s">'campaign_2016.csv'</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>

<span class="c"># show the first 5 rows of the table</span>
<span class="n">speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Take a moment to look at this table. Before doing any analysis, it’s important to understand:</p>
<ul>
  <li>the size of the table (how much data does it contain?)</li>
  <li>the structure of the table (how is the data organized?)</li>
  <li>what information it contains (what are the aspects of each record described in columns? what does each record (row) represent?)</li>
</ul>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># use this cell to expore the speeches DataFrame</span>
<span class="c"># the `shape` attribute is useful to get the number of rows and columns</span>
<span class="n">speeches</span><span class="o">.</span><span class="n">shape</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>(430, 6)
</code></pre></div></div>

<h3 id="moral-foundations-dictionary-">Moral Foundations Dictionary <a id="subsection 2"></a></h3>

<p>In <a href="http://projectimplicit.net/nosek/papers/GHN2009.pdf">“Liberals and Conservatives Rely on Different Sets of Moral Foundations”</a>, one of the methods Graham, Haidt, and Nosek use to measure people’s use of Moral Foundations Theory is to count how often they use words related to each foundation. This will be our test statistic for today. To calculate it, we’ll need a dictionary of words related to each moral foundation.</p>

<p>The dictionary we’ll use today comes from a database called <a href="https://wordnet.princeton.edu">WordNet</a>, in which “nouns, verbs, adjectives and adverbs are grouped into sets of cognitive synonyms (synsets), each expressing a distinct concept.” By querying WordNet for semantically related words, it was possible to build a dictionary automatically using a Python program.</p>

<p>Run the cell below to load the dictionary and assign it to the variable ‘mft_dict’.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Load a dictionary into the mft_dict variable</span>
<span class="c"># The path is the argument for the open function. It gives the location of the dictionary file.</span>
<span class="c"># To use the Wordnet dictionary from the Module 02 lecture, set the path to '../mft_data/foundations_dict.json'</span>
<span class="c"># To use your hand-coded dictionary, set the path to '../mft_data/my_dict.json'</span>
<span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="s">'../mft_data/foundations_dict.json'</span><span class="p">)</span> <span class="k">as</span> <span class="n">json_data</span><span class="p">:</span>
    <span class="n">mft_dict</span> <span class="o">=</span> <span class="n">json</span><span class="o">.</span><span class="n">load</span><span class="p">(</span><span class="n">json_data</span><span class="p">)</span>

<span class="c"># Stem the words in your dictionary (this will help you get more matches)</span>
<span class="n">stemmer</span> <span class="o">=</span> <span class="n">SnowballStemmer</span><span class="p">(</span><span class="s">'english'</span><span class="p">)</span>

<span class="k">for</span> <span class="n">foundation</span> <span class="ow">in</span> <span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">curr_words</span> <span class="o">=</span> <span class="n">mft_dict</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span>
    <span class="n">stemmed_words</span> <span class="o">=</span> <span class="p">[</span><span class="n">stemmer</span><span class="o">.</span><span class="n">stem</span><span class="p">(</span><span class="n">word</span><span class="p">)</span> <span class="k">for</span> <span class="n">word</span> <span class="ow">in</span> <span class="n">curr_words</span><span class="p">]</span>
    <span class="n">mft_dict</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span> <span class="o">=</span> <span class="n">stemmed_words</span>
</code></pre></div></div>

<p>We can see the keys of the dictionary using the .keys() function:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">keys</span> <span class="o">=</span> <span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">()</span>
<span class="nb">list</span><span class="p">(</span><span class="n">keys</span><span class="p">)</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>['authority/subversion',
 'care/harm',
 'fairness/cheating',
 'liberty/oppression',
 'loyalty/betrayal',
 'sanctity/degradation']
</code></pre></div></div>

<p>And we can look up the entries associated with a key by putting the key in brackets:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">mft_dict</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>{'authority/subversion': ['respect',
  'esteem',
  'regard',
  'subver',
  'say-so',
  'offic',
  'disrespect',
  'valu',
  'obedi',
  'assur',
  'honor',
  'disesteem',
  'agenc',
  'corrupt',
  'honour',
  'domin',
  'author',
  'observ',
  'confid',
  'defer',
  'bureau',
  'authori',
  'sure',
  'sanction'],
 'care/harm': ['hurt',
  'scath',
  'precaut',
  'concern',
  'attent',
  'damag',
  'care',
  'manag',
  'impair',
  'worri',
  'harm',
  'trauma',
  'guardianship',
  'aid',
  'tend',
  'caution',
  'forethought',
  'tutelag',
  'injuri',
  'upkeep',
  'mainten',
  'charg'],
 'fairness/cheating': ['equiti',
  'fair',
  'cuckold',
  'unsportsmanlik',
  'screw',
  'dirti',
  'candour',
  'cheat',
  'proport',
  'balanc',
  'inequ',
  'chican',
  'betray',
  'candor',
  'adult',
  'chous',
  'unsport',
  'unfair',
  'two-tim',
  'foul',
  'shaft',
  'fair-mind'],
 'liberty/oppression': ['self-direct',
  'self-suffici',
  'autonomi',
  'conquest',
  'burdensom',
  'independ',
  'subjug',
  'oner',
  'oppress',
  'subject',
  'self-r',
  'liberti',
  'conquer',
  'heavi'],
 'loyalty/betrayal': ['traitor',
  'disloyalti',
  'treason',
  'betray',
  'commit',
  'dedic',
  'commit',
  'consign',
  'perfidi',
  'truth',
  'subver',
  'allegi',
  'trueness',
  'veriti',
  'inscript',
  'treacheri',
  'fealti',
  'loyalti',
  'committ',
  'falsiti'],
 'sanctity/degradation': ['pure',
  'guilt',
  'respect',
  'impur',
  'reward',
  'disrespect',
  'deba',
  'honor',
  'sanctitud',
  'white',
  'sanctiti',
  'honour',
  'holi',
  'degrad',
  'adult',
  'dross',
  'observ',
  'innoc',
  'natur',
  'ingenu',
  'aba',
  'dishonor',
  'puriti',
  'abject',
  'unholi',
  'sinless',
  'humili']}
</code></pre></div></div>

<p>Try looking up the entries for the other keys by filling in for ‘…’ in the cell below.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># look up a key in mft_dict</span>
<span class="o">...</span>
</code></pre></div></div>

<p>There’s something odd about some of the entries: they’re not words! The entries in this dictionary have been <strong>stemmed</strong>, meaning they have been reduced to their smallest meaningful root.</p>

<p>We can see why this is helpful with an example. Python can count the number of times a string can be found in another string using the string method ‘count’:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Counts the number of times the second string appears in the first string</span>
<span class="s">"Data science is the best major, says data scientist."</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">'science'</span><span class="p">)</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>1
</code></pre></div></div>

<p>It returns one match, for the second word. But, ‘scientist’ is very closely related to ‘science’, and many times we will want to match them both. A stem allows Python to find all words with a common root. Try running the count again with a stem that matches both ‘science’ and ‘scientist’.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Fill in the parenthesis with a stem that will match both 'science' and 'scientist'</span>
<span class="s">"Data science is the best major, says data scientist."</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">'...'</span><span class="p">)</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0
</code></pre></div></div>

<p>Another thing you might have noticed is that all the entries in our dictionary are lowercase. This could be a problem when we do our text analysis. Try counting the number of times ‘rhetoric’ appears in the example sentence.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Fill in the parenthesis to count how often 'rhetoric' appears in the sentence</span>
<span class="s">"Rhetoric major says back: NEVER argue with a rhetoric student."</span><span class="o">.</span><span class="n">count</span><span class="p">(</span><span class="s">'...'</span><span class="p">)</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>0
</code></pre></div></div>

<p>We can clearly see the word ‘rhetoric’ appears twice, but the count function only returns 1. That’s because Python differentiates between capital and lowercase letters:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">'r'</span> <span class="ow">is</span> <span class="s">'R'</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<p>To get around this, we can use the .lower() function, which changes all letters in the string to lowercase:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="s">"Rhetoric major says back: NEVER argue with a rhetoric student."</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>'rhetoric major says back: never argue with a rhetoric student.'
</code></pre></div></div>

<p>Let’s add a column to our ‘speeches’ table that contains the lowercase text of the speeches. The <code class="highlighter-rouge">clean_text</code> function lowers the case of the text in addition to implementing some of the text cleaning methods seen in Module 01, like removing the punctuation and splitting the text into individual words.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">def</span> <span class="nf">clean_text</span><span class="p">(</span><span class="n">text</span><span class="p">):</span>
    <span class="c"># remove punctuation using a regular expression (not covered in these modules)</span>
    <span class="n">p</span> <span class="o">=</span> <span class="n">re</span><span class="o">.</span><span class="nb">compile</span><span class="p">(</span><span class="s">r'[^\w\s]'</span><span class="p">)</span>
    <span class="n">no_punc</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">sub</span><span class="p">(</span><span class="s">' '</span><span class="p">,</span> <span class="n">text</span><span class="p">)</span>
    <span class="c"># convert to lowercase</span>
    <span class="n">no_punc_lower</span> <span class="o">=</span> <span class="n">no_punc</span><span class="o">.</span><span class="n">lower</span><span class="p">()</span>
    <span class="c"># split into individual words</span>
    <span class="n">clean</span> <span class="o">=</span> <span class="n">no_punc_lower</span><span class="o">.</span><span class="n">split</span><span class="p">()</span>
    <span class="k">return</span> <span class="n">clean</span>
    
<span class="n">speeches</span><span class="p">[</span><span class="s">'clean_speech'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="n">clean_text</span><span class="p">(</span><span class="n">s</span><span class="p">)</span> <span class="k">for</span> <span class="n">s</span> <span class="ow">in</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'Speech'</span><span class="p">]]</span>

<span class="n">speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
      <td>[thank, you, all, very, much, i, always, feel,...</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
      <td>[thank, you, all, very, much, i, appreciate, y...</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
      <td>[thank, you, very, much, it, s, good, to, be, ...</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
      <td>[thank, you, very, much, i, appreciate, your, ...</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
      <td>[thank, you, it, s, great, to, be, in, tampa, ...</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<hr />
<h2 id="part-2-exploratory-data-analysis-">Part 2: Exploratory Data Analysis <a id="section 2"></a></h2>

<p>Now that we have our speech data and our dictionary, we can start our exploratory analysis. The exploratory analysis in this module will be more focused than in most cases since we already have a model in mind- Moral Foundations Theory.</p>

<p>To get a sense of how Moral Foundations words were used in campaign speeches, we’ll do three things:</p>
<ol>
  <li>Count the occurances of words from our dictionary in each speech</li>
  <li>Calculate how often words from each category are used by each political party</li>
  <li>Plot the percents on a bar graph</li>
</ol>

<p>Think about what you know about Moral Foundations Theory. If this data is consistent with the theory, what should our analysis show for Republican candidates? What about for Democratic candidates? Try sketching a possible graph for each political party, assuming that candidates’ speech aligns with the theory.</p>

<h3 id="calculating-percentages-">Calculating Percentages <a id="subsection 3"></a></h3>

<p>We’re interesting in knowing the percent of words that correspond to a Moral Foundation in speeches- in other words, how often candidates use words related to a specific foundation.</p>

<p>(Bonus question: why don’t we just use the <strong>number</strong> of Moral Foundation words instead of the <strong>percent</strong> as our test statistic?)</p>

<p>To calculate the percent, we’ll first need the total number of words in each speech.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># create a new column called 'total_words'</span>
<span class="n">speeches</span><span class="p">[</span><span class="s">'total_words'</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">speech</span><span class="p">)</span> <span class="k">for</span> <span class="n">speech</span> <span class="ow">in</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'clean_speech'</span><span class="p">]]</span>
<span class="n">speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
      <td>[thank, you, all, very, much, i, always, feel,...</td>
      <td>2284</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
      <td>[thank, you, all, very, much, i, appreciate, y...</td>
      <td>2638</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
      <td>[thank, you, very, much, it, s, good, to, be, ...</td>
      <td>3735</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
      <td>[thank, you, very, much, i, appreciate, your, ...</td>
      <td>1880</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
      <td>[thank, you, it, s, great, to, be, in, tampa, ...</td>
      <td>2550</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Next, we need to calculate the number of matches to entries in our dictionary for each foundation for each speech.</p>

<p>Run the next cell to add six new columns to <code class="highlighter-rouge">speeches</code>, one per foundation, that show the number of word matches.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c">#Note: much of the following code is not covered in these modules. Read the comments to get a sense of what it does.</span>

<span class="c"># do the following code for each foundation</span>
<span class="k">for</span> <span class="n">foundation</span> <span class="ow">in</span> <span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="c"># create a new, empty column</span>
    <span class="n">num_match_words</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">speeches</span><span class="p">))</span>
    <span class="n">stems</span> <span class="o">=</span> <span class="n">mft_dict</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span>
    
    <span class="c"># do the following code for each foundation word</span>
    <span class="k">for</span> <span class="n">stem</span> <span class="ow">in</span> <span class="n">stems</span><span class="p">:</span>
        <span class="c"># find synonym matches</span>
        <span class="n">wd_count</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="nb">sum</span><span class="p">([</span><span class="n">wd</span><span class="o">.</span><span class="n">startswith</span><span class="p">(</span><span class="n">stem</span><span class="p">)</span> <span class="k">for</span> <span class="n">wd</span> <span class="ow">in</span> <span class="n">speech</span><span class="p">])</span> <span class="k">for</span> <span class="n">speech</span> <span class="ow">in</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'clean_speech'</span><span class="p">]])</span>
        <span class="c"># add the number of matches to the total</span>
        <span class="n">num_match_words</span> <span class="o">+=</span> <span class="n">wd_count</span>
        
    <span class="c"># create a new column for each foundation with the number of foundation words per speech</span>
    <span class="n">speeches</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span> <span class="o">=</span> <span class="n">num_match_words</span>

<span class="n">speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
      <th>authority/subversion</th>
      <th>care/harm</th>
      <th>fairness/cheating</th>
      <th>liberty/oppression</th>
      <th>loyalty/betrayal</th>
      <th>sanctity/degradation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
      <td>[thank, you, all, very, much, i, always, feel,...</td>
      <td>2284</td>
      <td>4.0</td>
      <td>4.0</td>
      <td>3.0</td>
      <td>0.0</td>
      <td>7.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
      <td>[thank, you, all, very, much, i, appreciate, y...</td>
      <td>2638</td>
      <td>8.0</td>
      <td>2.0</td>
      <td>7.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>9.0</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
      <td>[thank, you, very, much, it, s, good, to, be, ...</td>
      <td>3735</td>
      <td>12.0</td>
      <td>5.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>4.0</td>
      <td>5.0</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
      <td>[thank, you, very, much, i, appreciate, your, ...</td>
      <td>1880</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>1.0</td>
      <td>4.0</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
      <td>[thank, you, it, s, great, to, be, in, tampa, ...</td>
      <td>2550</td>
      <td>8.0</td>
      <td>3.0</td>
      <td>1.0</td>
      <td>1.0</td>
      <td>0.0</td>
      <td>7.0</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>To calculate the percentage of foundation words per speech, divide the number of matched words by the number of total words and multiply by 100.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="k">for</span> <span class="n">foundation</span> <span class="ow">in</span> <span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">():</span>
    <span class="n">speeches</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">speeches</span><span class="p">[</span><span class="n">foundation</span><span class="p">]</span> <span class="o">/</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'total_words'</span><span class="p">])</span> <span class="o">*</span> <span class="mi">100</span>

<span class="n">speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
      <th>authority/subversion</th>
      <th>care/harm</th>
      <th>fairness/cheating</th>
      <th>liberty/oppression</th>
      <th>loyalty/betrayal</th>
      <th>sanctity/degradation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
      <td>[thank, you, all, very, much, i, always, feel,...</td>
      <td>2284</td>
      <td>0.175131</td>
      <td>0.175131</td>
      <td>0.131349</td>
      <td>0.000000</td>
      <td>0.306480</td>
      <td>0.175131</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
      <td>[thank, you, all, very, much, i, appreciate, y...</td>
      <td>2638</td>
      <td>0.303260</td>
      <td>0.075815</td>
      <td>0.265353</td>
      <td>0.000000</td>
      <td>0.151630</td>
      <td>0.341168</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
      <td>[thank, you, very, much, it, s, good, to, be, ...</td>
      <td>3735</td>
      <td>0.321285</td>
      <td>0.133869</td>
      <td>0.026774</td>
      <td>0.000000</td>
      <td>0.107095</td>
      <td>0.133869</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
      <td>[thank, you, very, much, i, appreciate, your, ...</td>
      <td>1880</td>
      <td>0.159574</td>
      <td>0.053191</td>
      <td>0.053191</td>
      <td>0.000000</td>
      <td>0.053191</td>
      <td>0.212766</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
      <td>[thank, you, it, s, great, to, be, in, tampa, ...</td>
      <td>2550</td>
      <td>0.313725</td>
      <td>0.117647</td>
      <td>0.039216</td>
      <td>0.039216</td>
      <td>0.000000</td>
      <td>0.274510</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<h3 id="filtering-table-rows-">Filtering table rows <a id="subsection 4"></a></h3>

<p>To examine the data for a particular political party, it is necessary to filter out rows of our table that correspond to speeches from the other party, something we can do with <strong>Boolean indexing</strong>.</p>

<p>A <strong>Boolean</strong> is a Python data type. There are exactly two: <code class="highlighter-rouge">True</code> and <code class="highlighter-rouge">False</code>. A Boolean expression is an expression that evaluates to <code class="highlighter-rouge">True</code> or <code class="highlighter-rouge">False</code>. Boolean expressions are often conditions on two variables; that is, they ask how one variable compares to another (e.g. is <code class="highlighter-rouge">a</code> greater than <code class="highlighter-rouge">b</code>? Does <code class="highlighter-rouge">a</code> equal <code class="highlighter-rouge">c</code>?).</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># These are all Booleans</span>
<span class="bp">True</span>

<span class="ow">not</span> <span class="bp">False</span>

<span class="mi">6</span> <span class="o">&gt;</span> <span class="mi">0</span>

<span class="s">"Ted Cruz"</span> <span class="o">==</span> <span class="s">"zodiac killer"</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>False
</code></pre></div></div>

<p>Note that Python uses <code class="highlighter-rouge">==</code> to check if two things are equal. This is because the <code class="highlighter-rouge">=</code> sign is already used for variable assignement.</p>

<p>Filtering out DataFrame rows can be broken into three steps:</p>
<ol>
  <li>identify the correct feature column</li>
  <li>specify the desired condition for that column</li>
  <li>index the Dataframe with that condition in square brackets</li>
</ol>

<p>Here’s an example of how to create a new table with only Bernie Sanders’ speeches.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># find the column</span>
<span class="n">speech_col</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'Candidate'</span><span class="p">]</span>

<span class="c"># specify the condition</span>
<span class="n">sanders_condition</span> <span class="o">=</span>  <span class="n">speech_col</span> <span class="o">==</span> <span class="s">'Bernie Sanders'</span>

<span class="c"># index the original DataFrame by the condition</span>
<span class="n">sanders_speeches</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="n">sanders_condition</span><span class="p">]</span>
<span class="n">sanders_speeches</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
      <th>authority/subversion</th>
      <th>care/harm</th>
      <th>fairness/cheating</th>
      <th>liberty/oppression</th>
      <th>loyalty/betrayal</th>
      <th>sanctity/degradation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>5877</th>
      <td>Bernie Sanders</td>
      <td>D</td>
      <td>c</td>
      <td>April 30, 2015</td>
      <td>Interview with Ed Schultz of MSNBC Regarding S...</td>
      <td>Schultz: A gentleman who has appeared on the p...</td>
      <td>[schultz, a, gentleman, who, has, appeared, on...</td>
      <td>3645</td>
      <td>0.329218</td>
      <td>0.082305</td>
      <td>0.054870</td>
      <td>0.027435</td>
      <td>0.109739</td>
      <td>0.109739</td>
    </tr>
    <tr>
      <th>5878</th>
      <td>Bernie Sanders</td>
      <td>D</td>
      <td>c</td>
      <td>April 30, 2015</td>
      <td>Interview with Wolf Blitzer of CNN Regarding S...</td>
      <td>Blitzer: I want to move to politics right now ...</td>
      <td>[blitzer, i, want, to, move, to, politics, rig...</td>
      <td>1764</td>
      <td>0.566893</td>
      <td>0.000000</td>
      <td>0.056689</td>
      <td>0.170068</td>
      <td>0.000000</td>
      <td>0.453515</td>
    </tr>
    <tr>
      <th>5879</th>
      <td>Bernie Sanders</td>
      <td>D</td>
      <td>c</td>
      <td>April 30, 2015</td>
      <td>Interview with Andrea Mitchell of MSNBC Regard...</td>
      <td>Sanders (from video clip): I believe that in a...</td>
      <td>[sanders, from, video, clip, i, believe, that,...</td>
      <td>976</td>
      <td>0.204918</td>
      <td>0.409836</td>
      <td>0.204918</td>
      <td>0.614754</td>
      <td>0.000000</td>
      <td>0.204918</td>
    </tr>
    <tr>
      <th>5880</th>
      <td>Bernie Sanders</td>
      <td>D</td>
      <td>c</td>
      <td>May 6, 2015</td>
      <td>Interview with Chris Cuomo of CNN's "New Day"</td>
      <td>CUOMO: Senator Sanders, welcome to the race. G...</td>
      <td>[cuomo, senator, sanders, welcome, to, the, ra...</td>
      <td>1561</td>
      <td>0.128123</td>
      <td>0.000000</td>
      <td>0.192184</td>
      <td>0.000000</td>
      <td>0.064061</td>
      <td>0.064061</td>
    </tr>
    <tr>
      <th>5881</th>
      <td>Bernie Sanders</td>
      <td>D</td>
      <td>c</td>
      <td>May 11, 2015</td>
      <td>Interview with Andrea Mitchell of MSNBC</td>
      <td>MITCHELL: Vermont Senator and Democratic presi...</td>
      <td>[mitchell, vermont, senator, and, democratic, ...</td>
      <td>910</td>
      <td>0.219780</td>
      <td>0.000000</td>
      <td>0.000000</td>
      <td>0.109890</td>
      <td>0.000000</td>
      <td>0.219780</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<h3 id="democrats-">Democrats <a id="subsection 5"></a></h3>

<p>Let’s start by looking at Democratic candidates. First, we need to make a table that only contains Democrats using boolean indexing.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Filter out non-Democrat speeches</span>
<span class="n">party_col</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'Party'</span><span class="p">]</span>

<span class="n">dem_cond</span> <span class="o">=</span> <span class="n">party_col</span> <span class="o">==</span> <span class="s">'D'</span>

<span class="n">democrats</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="n">dem_cond</span><span class="p">]</span>

<span class="n">democrats</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
      <th>authority/subversion</th>
      <th>care/harm</th>
      <th>fairness/cheating</th>
      <th>liberty/oppression</th>
      <th>loyalty/betrayal</th>
      <th>sanctity/degradation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>436</th>
      <td>Lincoln Chafee</td>
      <td>D</td>
      <td>c</td>
      <td>June 3, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you, Bob. Thank you, Bob and Mark, very ...</td>
      <td>[thank, you, bob, thank, you, bob, and, mark, ...</td>
      <td>5512</td>
      <td>0.235849</td>
      <td>0.181422</td>
      <td>0.090711</td>
      <td>0.036284</td>
      <td>0.145138</td>
      <td>0.108853</td>
    </tr>
    <tr>
      <th>437</th>
      <td>Lincoln Chafee</td>
      <td>D</td>
      <td>c</td>
      <td>July 17, 2015</td>
      <td>Remarks at the Iowa Democrats Hall of Fame Din...</td>
      <td>Congratulations to the Hall of Fame Inductees....</td>
      <td>[congratulations, to, the, hall, of, fame, ind...</td>
      <td>745</td>
      <td>0.268456</td>
      <td>0.134228</td>
      <td>0.268456</td>
      <td>0.000000</td>
      <td>0.805369</td>
      <td>0.268456</td>
    </tr>
    <tr>
      <th>438</th>
      <td>Lincoln Chafee</td>
      <td>D</td>
      <td>c</td>
      <td>October 23, 2015</td>
      <td>Remarks Announcing the End of Presidential Cam...</td>
      <td>Once again it is a pleasure to join so many De...</td>
      <td>[once, again, it, is, a, pleasure, to, join, s...</td>
      <td>939</td>
      <td>0.212993</td>
      <td>0.212993</td>
      <td>0.000000</td>
      <td>0.106496</td>
      <td>0.425985</td>
      <td>0.106496</td>
    </tr>
    <tr>
      <th>570</th>
      <td>Hillary Clinton</td>
      <td>D</td>
      <td>c</td>
      <td>January 20, 2007</td>
      <td>Video Transcript: Presidential Exploratory Com...</td>
      <td>HILLARY CLINTON: I announced today that I am f...</td>
      <td>[hillary, clinton, i, announced, today, that, ...</td>
      <td>349</td>
      <td>0.286533</td>
      <td>0.573066</td>
      <td>0.000000</td>
      <td>0.286533</td>
      <td>1.719198</td>
      <td>0.286533</td>
    </tr>
    <tr>
      <th>571</th>
      <td>Hillary Clinton</td>
      <td>D</td>
      <td>c</td>
      <td>January 22, 2007</td>
      <td>Remarks in a "Let the Conversation Begin Webcast"</td>
      <td>SENATOR CLINTON: Hi, everyone, and welcome to ...</td>
      <td>[senator, clinton, hi, everyone, and, welcome,...</td>
      <td>5349</td>
      <td>0.355207</td>
      <td>0.261731</td>
      <td>0.037390</td>
      <td>0.018695</td>
      <td>0.149561</td>
      <td>0.093475</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>We have our percentages for the Democratic party, but it’s much easier to understand what’s going on when the results are in graph form. Let’s start by looking at the average percents for Democrats as a group.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># select the foundations columns and calculate the mean percent for each</span>
<span class="n">avg_dem_stats</span> <span class="o">=</span> <span class="p">(</span><span class="n">democrats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="nb">list</span><span class="p">(</span><span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())]</span>
                 <span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s">'D_percent'</span><span class="p">))</span>

<span class="n">avg_dem_stats</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>D_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>authority/subversion</th>
      <td>0.321495</td>
    </tr>
    <tr>
      <th>care/harm</th>
      <td>0.292418</td>
    </tr>
    <tr>
      <th>fairness/cheating</th>
      <td>0.082472</td>
    </tr>
    <tr>
      <th>liberty/oppression</th>
      <td>0.030215</td>
    </tr>
    <tr>
      <th>loyalty/betrayal</th>
      <td>0.145686</td>
    </tr>
    <tr>
      <th>sanctity/degradation</th>
      <td>0.204513</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Now, create a horizontal bar plot by calling the <code class="highlighter-rouge">.plot.barh()</code> method on <code class="highlighter-rouge">avg_dem_stats</code>.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">avg_dem_stats</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x1271e9860&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_52_1.png" alt="png" /></p>

<p>Take a look at this graph. What does it show? How does it compare with the predictions of MFT?</p>

<h3 id="republicans-">Republicans <a id="subsection 6"></a></h3>

<p>Now, let’s repeat the process for Republicans. Replace the ellipses with the correct code to select only Republican speeches, then run the cell to create the table.</p>

<p>(Hint: look back at how we made the ‘democrats’ table to see how to fill in the ellipses)</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># Filter out non-Republican speeches</span>

<span class="c"># select 'Party' column from 'speeches'</span>
<span class="n">party_col</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="s">'Party'</span><span class="p">]</span>

<span class="c"># create a condition (boolean expression) that checks if a party is Republican</span>
<span class="n">republican_cond</span> <span class="o">=</span> <span class="n">party_col</span> <span class="o">==</span> <span class="s">'R'</span>

<span class="c"># index `speeches` using `republican_cond`</span>
<span class="n">republicans</span> <span class="o">=</span> <span class="n">speeches</span><span class="p">[</span><span class="n">republican_cond</span><span class="p">]</span>

<span class="c"># uncomment the next line to show the first 5 rows of the `republican` DataFrame</span>
<span class="n">republicans</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>Candidate</th>
      <th>Party</th>
      <th>Type</th>
      <th>Date</th>
      <th>Title</th>
      <th>Speech</th>
      <th>clean_speech</th>
      <th>total_words</th>
      <th>authority/subversion</th>
      <th>care/harm</th>
      <th>fairness/cheating</th>
      <th>liberty/oppression</th>
      <th>loyalty/betrayal</th>
      <th>sanctity/degradation</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>June 15, 2015</td>
      <td>Remarks Announcing Candidacy for President at ...</td>
      <td>Thank you all very much. I always feel welcome...</td>
      <td>[thank, you, all, very, much, i, always, feel,...</td>
      <td>2284</td>
      <td>0.175131</td>
      <td>0.175131</td>
      <td>0.131349</td>
      <td>0.000000</td>
      <td>0.306480</td>
      <td>0.175131</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>July 30, 2015</td>
      <td>Remarks to the National Urban League Conferenc...</td>
      <td>Thank you all very much. I appreciate your hos...</td>
      <td>[thank, you, all, very, much, i, appreciate, y...</td>
      <td>2638</td>
      <td>0.303260</td>
      <td>0.075815</td>
      <td>0.265353</td>
      <td>0.000000</td>
      <td>0.151630</td>
      <td>0.341168</td>
    </tr>
    <tr>
      <th>2</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>August 11, 2015</td>
      <td>Remarks at the Ronald Reagan Presidential Libr...</td>
      <td>Thank you very much. It's good to be with all ...</td>
      <td>[thank, you, very, much, it, s, good, to, be, ...</td>
      <td>3735</td>
      <td>0.321285</td>
      <td>0.133869</td>
      <td>0.026774</td>
      <td>0.000000</td>
      <td>0.107095</td>
      <td>0.133869</td>
    </tr>
    <tr>
      <th>3</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>September 9, 2015</td>
      <td>Remarks in Garner, North Carolina</td>
      <td>Thank you very much. I appreciate your hospita...</td>
      <td>[thank, you, very, much, i, appreciate, your, ...</td>
      <td>1880</td>
      <td>0.159574</td>
      <td>0.053191</td>
      <td>0.053191</td>
      <td>0.000000</td>
      <td>0.053191</td>
      <td>0.212766</td>
    </tr>
    <tr>
      <th>4</th>
      <td>Jeb Bush</td>
      <td>R</td>
      <td>c</td>
      <td>November 2, 2015</td>
      <td>Remarks in Tampa, Florida</td>
      <td>Thank you. It's great to be in Tampa with so m...</td>
      <td>[thank, you, it, s, great, to, be, in, tampa, ...</td>
      <td>2550</td>
      <td>0.313725</td>
      <td>0.117647</td>
      <td>0.039216</td>
      <td>0.039216</td>
      <td>0.000000</td>
      <td>0.274510</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Then, calculate the averages.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># select the foundations columns and calculate the mean percent for each</span>
<span class="n">avg_rep_stats</span> <span class="o">=</span> <span class="p">(</span><span class="n">republicans</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="nb">list</span><span class="p">(</span><span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())]</span>
                 <span class="o">.</span><span class="nb">apply</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span>
                 <span class="o">.</span><span class="n">to_frame</span><span class="p">(</span><span class="s">'R_percent'</span><span class="p">))</span>

<span class="n">avg_rep_stats</span> 
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>R_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>authority/subversion</th>
      <td>0.393636</td>
    </tr>
    <tr>
      <th>care/harm</th>
      <td>0.176955</td>
    </tr>
    <tr>
      <th>fairness/cheating</th>
      <td>0.066454</td>
    </tr>
    <tr>
      <th>liberty/oppression</th>
      <td>0.039025</td>
    </tr>
    <tr>
      <th>loyalty/betrayal</th>
      <td>0.080041</td>
    </tr>
    <tr>
      <th>sanctity/degradation</th>
      <td>0.191499</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Finally, create a bar plot of <code class="highlighter-rouge">avg_rep_stats</code> using the <code class="highlighter-rouge">.plot.barh()</code> method.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># your code here</span>
<span class="n">avg_rep_stats</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12cd937b8&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_60_1.png" alt="png" /></p>

<p>How does this plot compare with Moral Foundations Theory predictions?</p>

<h3 id="democrats-vs-republicans-">Democrats vs Republicans <a id="subsection 7"></a></h3>

<p>Comparing two groups becomes much easier when they are plotted on the same graph.</p>

<p>First, combine <code class="highlighter-rouge">avg_dem_stats</code> and <code class="highlighter-rouge">avg_rep_stats</code> into one DataFrame with the <code class="highlighter-rouge">join</code> function. <code class="highlighter-rouge">join</code> is called on one table using <code class="highlighter-rouge">.join()</code>, takes the other table as its argument (in the parentheses), and returns a table with the indices matched.</p>

<p>Here’s an example of a simple join:</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">peanut_butter</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mf">2.99</span><span class="p">,</span> <span class="mf">3.49</span><span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Trader Joes'</span><span class="p">,</span> <span class="s">'Safeway'</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'pb_price'</span><span class="p">])</span>
<span class="n">peanut_butter</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>pb_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Trader Joes</th>
      <td>2.99</td>
    </tr>
    <tr>
      <th>Safeway</th>
      <td>3.49</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">jelly</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span><span class="o">=</span><span class="p">[</span><span class="mf">4.99</span><span class="p">,</span> <span class="mf">3.59</span><span class="p">],</span> <span class="n">index</span> <span class="o">=</span> <span class="p">[</span><span class="s">'Trader Joes'</span><span class="p">,</span> <span class="s">'Safeway'</span><span class="p">],</span> <span class="n">columns</span><span class="o">=</span><span class="p">[</span><span class="s">'jelly_price'</span><span class="p">])</span>
<span class="n">jelly</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>jelly_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Trader Joes</th>
      <td>4.99</td>
    </tr>
    <tr>
      <th>Safeway</th>
      <td>3.59</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">jelly</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">peanut_butter</span><span class="p">)</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>jelly_price</th>
      <th>pb_price</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>Trader Joes</th>
      <td>4.99</td>
      <td>2.99</td>
    </tr>
    <tr>
      <th>Safeway</th>
      <td>3.59</td>
      <td>3.49</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Now, write the code to join <code class="highlighter-rouge">avg_dem_stats</code> with <code class="highlighter-rouge">avg_rep_stats</code>.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># fill in the ellipses with your code</span>
<span class="n">all_avg_stats</span> <span class="o">=</span> <span class="n">avg_dem_stats</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="n">avg_rep_stats</span><span class="p">)</span>
<span class="n">all_avg_stats</span>
</code></pre></div></div>

<div class="output output_html">
<div>
<style scoped="">
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>D_percent</th>
      <th>R_percent</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>authority/subversion</th>
      <td>0.321495</td>
      <td>0.393636</td>
    </tr>
    <tr>
      <th>care/harm</th>
      <td>0.292418</td>
      <td>0.176955</td>
    </tr>
    <tr>
      <th>fairness/cheating</th>
      <td>0.082472</td>
      <td>0.066454</td>
    </tr>
    <tr>
      <th>liberty/oppression</th>
      <td>0.030215</td>
      <td>0.039025</td>
    </tr>
    <tr>
      <th>loyalty/betrayal</th>
      <td>0.145686</td>
      <td>0.080041</td>
    </tr>
    <tr>
      <th>sanctity/degradation</th>
      <td>0.204513</td>
      <td>0.191499</td>
    </tr>
  </tbody>
</table>
</div>
</div>

<p>Then, make a horizontal bar plot for `all_avg_stats’.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># your code here</span>
<span class="n">all_avg_stats</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x11325f3c8&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_70_1.png" alt="png" /></p>

<p>It can be hard to make comparison judgments if the bar lengsth are very similar. The next cell creates a plot of only the difference in average foundation word usage of Democrats and Republicans. A positive value means Democrats use the word more frequently; a negative value indicates Republicans use it more frequently.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># uncomment the next two lines to plot the difference in percent of foundations words per speech by party</span>
<span class="n">party_diffs</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">data</span> <span class="o">=</span> <span class="n">avg_dem_stats</span><span class="p">[</span><span class="s">'D_percent'</span><span class="p">]</span> <span class="o">-</span> <span class="n">avg_rep_stats</span><span class="p">[</span><span class="s">'R_percent'</span><span class="p">],</span>
                          <span class="n">columns</span> <span class="o">=</span> <span class="p">[</span><span class="s">"dem_rep_pct_diff"</span><span class="p">],</span> 
                          <span class="n">index</span> <span class="o">=</span> <span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span>
<span class="n">party_diffs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">bar</span><span class="p">()</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12eebbac8&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_72_1.png" alt="png" /></p>

<hr />
<h2 id="part-3-additional-visualizations">Part 3: Additional Visualizations<a id="section 3"></a></h2>

<p>Many different graphs can be generated from the same data set to facilitate different comparisons. For example, we can compare the average use of foundation words by individual Democrats…</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">dem_indivs</span> <span class="o">=</span> <span class="p">(</span><span class="n">democrats</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="nb">list</span><span class="p">(</span><span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="p">[</span><span class="s">'Candidate'</span><span class="p">]]</span>
             <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Candidate'</span><span class="p">)</span>
             <span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="n">dem_indivs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">8</span><span class="p">))</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x107d55ac8&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_75_1.png" alt="png" /></p>

<p>…or individual Republicans.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="n">rep_indivs</span> <span class="o">=</span> <span class="p">(</span><span class="n">republicans</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="nb">list</span><span class="p">(</span><span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="p">[</span><span class="s">'Candidate'</span><span class="p">]]</span>
             <span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s">'Candidate'</span><span class="p">)</span>
             <span class="o">.</span><span class="n">mean</span><span class="p">())</span>

<span class="n">rep_indivs</span><span class="o">.</span><span class="n">plot</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="n">figsize</span><span class="o">=</span><span class="p">(</span><span class="mi">8</span><span class="p">,</span> <span class="mi">20</span><span class="p">))</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12f041cf8&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_77_1.png" alt="png" /></p>

<p>We can also examine how a candidate uses foundation words over time. The following plot shows foundation word usage for Donald Trump in the weeks leading up to the election.</p>

<div class="language-python input_area highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c"># select Trump's speeches and drop unnecessary columns</span>
<span class="n">trump</span> <span class="o">=</span> <span class="p">(</span><span class="n">republicans</span><span class="p">[</span><span class="n">republicans</span><span class="p">[</span><span class="s">'Candidate'</span><span class="p">]</span> <span class="o">==</span> <span class="s">"Donald Trump"</span><span class="p">]</span>
         <span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> <span class="nb">list</span><span class="p">(</span><span class="n">mft_dict</span><span class="o">.</span><span class="n">keys</span><span class="p">())</span> <span class="o">+</span> <span class="p">[</span><span class="s">'Date'</span><span class="p">]])</span>

<span class="c"># set the speech dates as the table index</span>
<span class="n">trump</span><span class="p">[</span><span class="s">'Date'</span><span class="p">]</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">to_datetime</span><span class="p">(</span><span class="n">trump</span><span class="p">[</span><span class="s">'Date'</span><span class="p">])</span>
<span class="n">trump</span> <span class="o">=</span> <span class="p">(</span><span class="n">trump</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s">'Date'</span><span class="p">)</span>
         <span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="s">'2016-07-01'</span><span class="p">:])</span>

<span class="c"># plot the data</span>
<span class="n">trump</span><span class="o">.</span><span class="n">plot</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">10</span><span class="p">,</span> <span class="mi">6</span><span class="p">))</span>
</code></pre></div></div>

<div class="output output_data_text highlighter-rouge"><div class="highlight"><pre class="highlight"><code>&lt;matplotlib.axes._subplots.AxesSubplot at 0x12f716f60&gt;
</code></pre></div></div>

<p class="output output_png"><img src="../../images/rhetoric/02-Moral-Foundations-Analysis/02-Moral-Foundations-Analysis_79_1.png" alt="png" /></p>

<p>What other kinds of plots could be generated from this data? What other questions might we be able to explore with these or other plots?</p>

<hr />
<h2 id="part-4-run-analysis-with-your-dictionary-">Part 4: Run Analysis with Your Dictionary <a id="section 4"></a></h2>

<p>One of the advantages of coding is how easy it is to repeat one method of analysis with different parameters. For instance, changing a single line of code means that all of the word counts, proportions, and graphs in the above sections can be recalculated using a different dictionary of Moral Foundations words.</p>

<p>To change what dictionary is loaded to the <code class="highlighter-rouge">mft_dict</code> variable, go to <a href="#subsection 2">Part 1.2: Moral Foundations Dictionary</a> <br /> and follow the instructions in the first code cell.</p>

<p>Once the dictionary load code has been changed, the easiest way to regenerate all the tables, percents, and graphs is to go to the <code class="highlighter-rouge">Cell</code> menu and click <code class="highlighter-rouge">Run all</code>. This ensures that all the statistics used to make the graphs will be recalculated with the new dictionary.</p>

<p>For this assignment, answer the following three questions about the graphs made using <strong>your hand-coded dictionary</strong>:</p>

<ol>
  <li>What does each graph show?</li>
  <li>How are these graphs different from the ones made using the Wordnet dictionary?</li>
  <li>Do these graphs support Moral Foundations Theory?</li>
</ol>

<hr />

<h2 id="bibliography">Bibliography</h2>

<ul>
  <li>Election documents scraped from http://www.presidency.ucsb.edu/2016_election.php</li>
  <li>Graham, J., Haidt, J., &amp; Nosek, B. A. (2009). Liberals and conservatives rely on different sets of moral foundations. Journal of personality and social psychology, 96(5), 1029. http://projectimplicit.net/nosek/papers/GHN2009.pdf, October 9 2017.</li>
</ul>

<hr />
<p>Notebook developed by: Keeley Takimoto, Sean Seungwoo Son, Sujude Dalieh</p>

<p>Data Science Modules: http://data.berkeley.edu/education/modules</p>


              <nav class="c-page__nav">
  
    
    <a id="js-page__nav__prev" class="c-page__nav__prev" href="/modules-textbook/rhetoric/01-intro/01-intro">
      〈 <span class="u-margin-right-tiny"></span> Introduction
    </a>
  

  
    
    <a id="js-page__nav__next" class="c-page__nav__next" href="">
       <span class="u-margin-right-tiny"></span> 〉
    </a>
  
</nav>

            </div>
          </div>
        </div>
      </main>
    </div>

  </body>
</html>
