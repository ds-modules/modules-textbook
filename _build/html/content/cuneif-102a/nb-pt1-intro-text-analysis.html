
<!DOCTYPE html>


<html lang="en" data-content_root="../../" >

  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="viewport" content="width=device-width, initial-scale=1" />

    <title>CUNEIF 102A &#8212; UC Berkeley Data Science Modules</title>
  
  
  
  <script data-cfasync="false">
    document.documentElement.dataset.mode = localStorage.getItem("mode") || "";
    document.documentElement.dataset.theme = localStorage.getItem("theme") || "";
  </script>
  
  <!-- Loaded before other Sphinx assets -->
  <link href="../../_static/styles/theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/bootstrap.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
<link href="../../_static/styles/pydata-sphinx-theme.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />

  
  <link href="../../_static/vendor/fontawesome/6.5.2/css/all.min.css?digest=dfe6caa3a7d634c4db9b" rel="stylesheet" />
  <link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-solid-900.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-brands-400.woff2" />
<link rel="preload" as="font" type="font/woff2" crossorigin href="../../_static/vendor/fontawesome/6.5.2/webfonts/fa-regular-400.woff2" />

    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css?v=03e43079" />
    <link rel="stylesheet" type="text/css" href="../../_static/styles/sphinx-book-theme.css?v=eba8b062" />
    <link rel="stylesheet" type="text/css" href="../../_static/togglebutton.css?v=13237357" />
    <link rel="stylesheet" type="text/css" href="../../_static/copybutton.css?v=76b2166b" />
    <link rel="stylesheet" type="text/css" href="../../_static/mystnb.4510f1fc1dee50b3e5859aac5469c37c29e427902b24a333a5f9fcb2f0b3ac41.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-thebe.css?v=4fa983c6" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx-design.min.css?v=95c83b7e" />
  
  <!-- Pre-loaded scripts that we'll load fully later -->
  <link rel="preload" as="script" href="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b" />
<link rel="preload" as="script" href="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b" />
  <script src="../../_static/vendor/fontawesome/6.5.2/js/all.min.js?digest=dfe6caa3a7d634c4db9b"></script>

    <script src="../../_static/documentation_options.js?v=9eb32ce0"></script>
    <script src="../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../../_static/clipboard.min.js?v=a7894cd8"></script>
    <script src="../../_static/copybutton.js?v=f281be69"></script>
    <script src="../../_static/scripts/sphinx-book-theme.js?v=887ef09a"></script>
    <script>let toggleHintShow = 'Click to show';</script>
    <script>let toggleHintHide = 'Click to hide';</script>
    <script>let toggleOpenOnPrint = 'true';</script>
    <script src="../../_static/togglebutton.js?v=4a39c7ea"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script src="../../_static/design-tabs.js?v=f930bc37"></script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script async="async" src="../../_static/sphinx-thebe.js?v=c100c467"></script>
    <script>var togglebuttonSelector = '.toggle, .admonition.dropdown';</script>
    <script>const THEBE_JS_URL = "https://unpkg.com/thebe@0.8.2/lib/index.js"; const thebe_selector = ".thebe,.cell"; const thebe_selector_input = "pre"; const thebe_selector_output = ".output, .cell_output"</script>
    <script>window.MathJax = {"options": {"processHtmlClass": "tex2jax_process|mathjax_process|math|output_area"}}</script>
    <script defer="defer" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <script>DOCUMENTATION_OPTIONS.pagename = 'content/cuneif-102a/nb-pt1-intro-text-analysis';</script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
  <meta name="viewport" content="width=device-width, initial-scale=1"/>
  <meta name="docsearch:language" content="en"/>
  </head>
  
  
  <body data-bs-spy="scroll" data-bs-target=".bd-toc-nav" data-offset="180" data-bs-root-margin="0px 0px -60%" data-default-mode="">

  
  
  <div id="pst-skip-link" class="skip-link d-print-none"><a href="#main-content">Skip to main content</a></div>
  
  <div id="pst-scroll-pixel-helper"></div>
  
  <button type="button" class="btn rounded-pill" id="pst-back-to-top">
    <i class="fa-solid fa-arrow-up"></i>Back to top</button>

  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-primary-sidebar-checkbox"/>
  <label class="overlay overlay-primary" for="pst-primary-sidebar-checkbox"></label>
  
  <input type="checkbox"
          class="sidebar-toggle"
          id="pst-secondary-sidebar-checkbox"/>
  <label class="overlay overlay-secondary" for="pst-secondary-sidebar-checkbox"></label>
  
  <div class="search-button__wrapper">
    <div class="search-button__overlay"></div>
    <div class="search-button__search-container">
<form class="bd-search d-flex align-items-center"
      action="../../search.html"
      method="get">
  <i class="fa-solid fa-magnifying-glass"></i>
  <input type="search"
         class="form-control"
         name="q"
         id="search-input"
         placeholder="Search this book..."
         aria-label="Search this book..."
         autocomplete="off"
         autocorrect="off"
         autocapitalize="off"
         spellcheck="false"/>
  <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd>K</kbd></span>
</form></div>
  </div>

  <div class="pst-async-banner-revealer d-none">
  <aside id="bd-header-version-warning" class="d-none d-print-none" aria-label="Version warning"></aside>
</div>

  
    <header class="bd-header navbar navbar-expand-lg bd-navbar d-print-none">
    </header>
  

  <div class="bd-container">
    <div class="bd-container__inner bd-page-width">
      
      
      
        
      
      <div class="bd-sidebar-primary bd-sidebar">
        

  
  <div class="sidebar-header-items sidebar-primary__section">
    
    
    
    
  </div>
  
    <div class="sidebar-primary-items__start sidebar-primary__section">
        <div class="sidebar-primary-item">

  
    
  

<a class="navbar-brand logo" href="../intro.html">
  
  
  
  
  
  
    <p class="title logo__title">UC Berkeley Data Science Modules</p>
  
</a></div>
        <div class="sidebar-primary-item">

 <script>
 document.write(`
   <button class="btn search-button-field search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass"></i>
    <span class="search-button__default-text">Search</span>
    <span class="search-button__kbd-shortcut"><kbd class="kbd-shortcut__modifier">Ctrl</kbd>+<kbd class="kbd-shortcut__modifier">K</kbd></span>
   </button>
 `);
 </script></div>
        <div class="sidebar-primary-item"><nav class="bd-links bd-docs-nav" aria-label="Main">
    <div class="bd-toc-item navbar-nav active">
        
        <ul class="nav bd-sidenav bd-sidenav__home-link">
            <li class="toctree-l1">
                <a class="reference internal" href="../intro.html">
                    UC Berkeley Data Science Modules
                </a>
            </li>
        </ul>
        <p aria-level="2" class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../introduction/ds-intro.html">Data Science in Python and Jupyter</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../introduction/intro-module-final.html">Intro to Python and Jupyter</a></li>
</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Social Sciences</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../legalst-190/legalst-190-intro.html">Legal Studies</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../legalst-190/1-18.html">Intro to Python</a></li>
<li class="toctree-l2"><a class="reference internal" href="../legalst-190/ps1/SF_Crime_PSET1.html">SF Crime PSET 1</a></li>


</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Physical Sciences</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../psych-167ac/psych-167ac-intro.html">Psychology</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../psych-167ac/01-intro.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psych-167ac/02-correlation-regression.html">Correlation &amp; Regression</a></li>
<li class="toctree-l2"><a class="reference internal" href="../psych-167ac/03-my-project.html">Using your own data</a></li>


</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Arts and Humanities</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../xenglish-r1a/xenglish-r1a-intro.html">English</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../xenglish-r1a/01-Chinatowns.html">ENGLISH R1A: Chinatown and the Culture of Exclusion</a></li>





</ul>
</details></li>
</ul>
<p aria-level="2" class="caption" role="heading"><span class="caption-text">Professional</span></p>
<ul class="nav bd-sidenav">
<li class="toctree-l1 has-children"><a class="reference internal" href="../cp-101/cp-101-intro.html">City Planning</a><details><summary><span class="toctree-toggle" role="presentation"><i class="fa-solid fa-chevron-down"></i></span></summary><ul>
<li class="toctree-l2"><a class="reference internal" href="../cp-101/lab07/lab07.html">Lab 7</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cp-101/lab08/lab08.html">Lab 8</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cp-101/lab09/lab09.html">Introduction to <code class="docutils literal notranslate"><span class="pre">geopandas</span></code></a></li>

<li class="toctree-l2"><a class="reference internal" href="../cp-101/lab10/lab10.html">Lab 10</a></li>
</ul>
</details></li>
</ul>

    </div>
</nav></div>
    </div>
  
  
  <div class="sidebar-primary-items__end sidebar-primary__section">
  </div>
  
  <div id="rtd-footer-container"></div>


      </div>
      
      <main id="main-content" class="bd-main" role="main">
        
        

<div class="sbt-scroll-pixel-helper"></div>

          <div class="bd-content">
            <div class="bd-article-container">
              
              <div class="bd-header-article d-print-none">
<div class="header-article-items header-article__inner">
  
    <div class="header-article-items__start">
      
        <div class="header-article-item"><button class="sidebar-toggle primary-toggle btn btn-sm" title="Toggle primary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
  <span class="fa-solid fa-bars"></span>
</button></div>
      
    </div>
  
  
    <div class="header-article-items__end">
      
        <div class="header-article-item">

<div class="article-header-buttons">





<div class="dropdown dropdown-download-buttons">
  <button class="btn dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" aria-label="Download this page">
    <i class="fas fa-download"></i>
  </button>
  <ul class="dropdown-menu">
      
      
      
      <li><a href="../../_sources/content/cuneif-102a/nb-pt1-intro-text-analysis.ipynb" target="_blank"
   class="btn btn-sm btn-download-source-button dropdown-item"
   title="Download source file"
   data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file"></i>
  </span>
<span class="btn__text-container">.ipynb</span>
</a>
</li>
      
      
      
      
      <li>
<button onclick="window.print()"
  class="btn btn-sm btn-download-pdf-button dropdown-item"
  title="Print to PDF"
  data-bs-placement="left" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-file-pdf"></i>
  </span>
<span class="btn__text-container">.pdf</span>
</button>
</li>
      
  </ul>
</div>




<button onclick="toggleFullScreen()"
  class="btn btn-sm btn-fullscreen-button"
  title="Fullscreen mode"
  data-bs-placement="bottom" data-bs-toggle="tooltip"
>
  

<span class="btn__icon-container">
  <i class="fas fa-expand"></i>
  </span>

</button>



<script>
document.write(`
  <button class="btn btn-sm nav-link pst-navbar-icon theme-switch-button" title="light/dark" aria-label="light/dark" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="theme-switch fa-solid fa-sun fa-lg" data-mode="light"></i>
    <i class="theme-switch fa-solid fa-moon fa-lg" data-mode="dark"></i>
    <i class="theme-switch fa-solid fa-circle-half-stroke fa-lg" data-mode="auto"></i>
  </button>
`);
</script>


<script>
document.write(`
  <button class="btn btn-sm pst-navbar-icon search-button search-button__button" title="Search" aria-label="Search" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <i class="fa-solid fa-magnifying-glass fa-lg"></i>
  </button>
`);
</script>
<button class="sidebar-toggle secondary-toggle btn btn-sm" title="Toggle secondary sidebar" data-bs-placement="bottom" data-bs-toggle="tooltip">
    <span class="fa-solid fa-list"></span>
</button>
</div></div>
      
    </div>
  
</div>
</div>
              
              

<div id="jb-print-docs-body" class="onlyprint">
    <h1>CUNEIF 102A</h1>
    <!-- Table of contents -->
    <div id="print-main-content">
        <div id="jb-print-toc">
            
            <div>
                <h2> Contents </h2>
            </div>
            <nav aria-label="Page">
                <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">CUNEIF 102A</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-1-intro-to-python">Section 1: Intro to Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#programming-in-python">Programming in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-programming">What is Programming?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-types">Variable Types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arithmetic">Arithmetic</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">Strings</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#defining">Defining</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calling">Calling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scope">Scope</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#activity">Activity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#control">Control</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditionals">Conditionals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#if-statements">If Statements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">For Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#table-arrays">Table &amp; Arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arrays">Arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tables">Tables</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-2-data-read-prep">Section 2: Data Read &amp; Prep <a id="section 2"></a></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tfidf">TFIDF</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-between-documents">Differences between documents</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cosine-distance">Cosine Distance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#euclidean-distance">Euclidean distance</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#n-grams">N- grams</a></li>
</ul>

            </nav>
        </div>
    </div>
</div>

              
                
<div id="searchbox"></div>
                <article class="bd-article">
                  
  <section class="tex2jax_ignore mathjax_ignore" id="cuneif-102a">
<h1>CUNEIF 102A<a class="headerlink" href="#cuneif-102a" title="Link to this heading">#</a></h1>
<hr class="docutils" />
<!-- 

IMAGE BELOW NO LONGER EXISTS AT LINK

<img src="http://www.cleargoals.com/wp-content/uploads/2017/04/data-science-methods-and-algorithms-for-big-data.jpg" style="width: 500px; height: 275px;" /> 

-->
<p><strong>Professor Veldhuis</strong></p>
<p>Sumerian Text Analysis</p>
<p>This notebook introduces how to use Python and Jupyter Notebooks, how to read in and process data, and how to find differences between texts based on their words (what measurements we can use to find the “distances” between texts).</p>
<p>Module Developers: Sujude, Erik, Jonathan, Stephanie</p>
<!-- 

---



### Table of Contents


1 - [Section 1: Intro to Python & Jupyter Notebooks](#section 1)<br>

2 - [Section 2: Data Read & Prep](#section 2)<br>

--><hr class="docutils" />
<section id="section-1-intro-to-python">
<h2>Section 1: Intro to Python<a class="headerlink" href="#section-1-intro-to-python" title="Link to this heading">#</a></h2>
<ul class="simple">
<li><p>Learn how to work with Jupyter notebooks.</p></li>
<li><p>Learn about variables in Python, including variable types, variable assignment, and arithmetic.</p></li>
<li><p>Learn about functions in Python, including defining and calling functions, as well as scope.</p></li>
</ul>
<section id="exercise">
<h3>Exercise<a class="headerlink" href="#exercise" title="Link to this heading">#</a></h3>
<p>Try running the code below. What happens?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># CODE</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Hello World!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Hello World!
</pre></div>
</div>
</div>
</div>
<p>Now, let’s try editing the code. In the cell below, replace “friend” with your name for a more personalized message.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Welcome to Jupyter notebooks, friend.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Welcome to Jupyter notebooks, friend.
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="programming-in-python">
<h2>Programming in Python<a class="headerlink" href="#programming-in-python" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>Now that you are comfortable with using Jupyter notebooks, we can learn more about programming in this notebook.</p>
<section id="what-is-programming">
<h3>What is Programming?<a class="headerlink" href="#what-is-programming" title="Link to this heading">#</a></h3>
<p><strong>Programming</strong> is giving the computer a set of step-by-step instructions to follow in order to execute a task. It’s a lot like writing your own recipe book! For example, let’s say you wanted to teach someone how to make a PB&amp;J sandwich:</p>
<ol class="arabic simple">
<li><p>Gather bread, peanut butter, jelly, and a spreading knife.</p></li>
<li><p>Take out two slices of bread.</p></li>
<li><p>Use the knife to spread peanut butter on one slice of bread.</p></li>
<li><p>Use the knife to spread jelly on the other slice of bread.</p></li>
<li><p>Put the two slices of bread together to make a sandwich.</p></li>
</ol>
<p>Just like that, programming is breaking up a complex task into smaller commands for the computer to understand and execute.</p>
<p>In order to communicate with computers, however, we must talk to them in a way that they can understand us: via a <strong>programming language</strong>.</p>
<p>There are many different kinds of programming languages, but we will be using <strong>Python</strong> because it is concise, simple to read, and applicable in a variety of projects - from web development to mobile apps to data analysis.</p>
</section>
</section>
<section id="variables">
<h2>Variables<a class="headerlink" href="#variables" title="Link to this heading">#</a></h2>
<p>In programming, we often compute many values that we want to save so that we can use the result in a later step. For example, let’s say that we want to find the number of words in a group of texts. Each text in the group has 100 words, and there are 20 texts. We can easily calculate this with the following:</p>
<p style="text-align: center">$100 * 20 = 2000$ words</p> <p>However, let’s say that your friend Alexander asked you how many words there are in three groups (same conditions as the group explained above). We could, of course, perform the calculation in a similar manner:</p>
<p style="text-align: center">$(100 * 20) * 3 = 6000$ words</p> <p>But we see that we repeated the calculation in parentheses above. Instead of doing this calculation again, we could have saved the result from our first step (calculating the number of words in a group of 20 texts) as a variable.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># This is Python code that assigns variables.</span>
<span class="c1"># The name to the left of the equals sign is the variable name.</span>
<span class="c1"># The value to the right of the equals sign is the value of the variable.</span>
<span class="c1"># Press Shift-Enter to run the code and see the value of our variable!</span>

<span class="n">words_in_group</span> <span class="o">=</span> <span class="mi">20</span> <span class="o">*</span> <span class="mi">100</span> <span class="c1"># This is equal to 2000.</span>
<span class="n">words_in_group</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>2000
</pre></div>
</div>
</div>
</div>
<p>Then, we can simply multiply this variable by three to get the number of words in <em>three</em> groups of texts:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># The code below takes the number of seconds in a day (which we calculated in the previous code cell)</span>
<span class="c1"># and multiplies it by 3 to find the number of seconds in 3 days.</span>

<span class="n">words_in_three_group</span> <span class="o">=</span> <span class="n">words_in_group</span> <span class="o">*</span> <span class="mi">3</span>  <span class="c1"># This is equal to 259200.</span>
<span class="n">words_in_three_group</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>6000
</pre></div>
</div>
</div>
</div>
<p>As you can see, variables can be used to simplify calculations, make code more readable, and allow for repetition and reusability of code.</p>
<section id="variable-types">
<h3>Variable Types<a class="headerlink" href="#variable-types" title="Link to this heading">#</a></h3>
<p>Next, we’ll talk about a few types of variables that you’ll be using. As we saw in the example above, one common type of variable is the <em>integer</em> (positive and negative whole numbers). You’ll also be using decimal numbers in Python, which are called <em>doubles</em> (positive and negative decimal numbers).</p>
<p>A third type of variable used frequently in Python is the <em>string</em>; strings are essentially sequences of characters, and you can think of them as words or sentences. We denote strings by surrounding the desired value with quotes. For example, “Data Science” and “2017” are strings, while <code class="docutils literal notranslate"><span class="pre">bears</span></code> and <code class="docutils literal notranslate"><span class="pre">2020</span></code> (both without quotes) are not strings.</p>
<p>Finally, the last variable type we’ll go over is the <em>boolean</em>. They can take on one of two values: <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code>. Booleans are often used to check conditions; for example, we might have a list of dogs, and we want to sort them into small dogs and large dogs. One way we could accomplish this is to say either <code class="docutils literal notranslate"><span class="pre">True</span></code> or <code class="docutils literal notranslate"><span class="pre">False</span></code> for each dog after seeing if the dog weighs more than 15 pounds.</p>
<p>Here is a table that summarizes the information in this section:</p>
<div class="pst-scrollable-table-container"><table class="table">
<thead>
<tr class="row-odd"><th class="head"><p>Variable Type</p></th>
<th class="head"><p>Definition</p></th>
<th class="head"><p>Examples</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Integer</p></td>
<td><p>Positive and negative whole numbers</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">42</span></code>, <code class="docutils literal notranslate"><span class="pre">-10</span></code>, <code class="docutils literal notranslate"><span class="pre">0</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Double</p></td>
<td><p>Positive and negative decimal numbers</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">73.9</span></code>, <code class="docutils literal notranslate"><span class="pre">2.4</span></code>, <code class="docutils literal notranslate"><span class="pre">0.0</span></code></p></td>
</tr>
<tr class="row-even"><td><p>String</p></td>
<td><p>Sequence of characters</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">&quot;Go</span> <span class="pre">Bears!&quot;</span></code>, <code class="docutils literal notranslate"><span class="pre">&quot;variables&quot;</span></code></p></td>
</tr>
<tr class="row-odd"><td><p>Boolean</p></td>
<td><p>True or false value</p></td>
<td><p><code class="docutils literal notranslate"><span class="pre">True</span></code>, <code class="docutils literal notranslate"><span class="pre">False</span></code></p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="arithmetic">
<h3>Arithmetic<a class="headerlink" href="#arithmetic" title="Link to this heading">#</a></h3>
<p>Now that we’ve discussed what types of variables we can use, let’s talk about how we can combine them together. As we saw at the beginning of this section, we can do basic math in Python. Here is a table that shows how to write such operations:</p>
<p>|Operation|Operator|Example|Value|
|-|-|-|
|Addition|+|<code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">+</span> <span class="pre">3</span></code>|<code class="docutils literal notranslate"><span class="pre">5</span></code>|
|Subtraction|-|<code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">-</span> <span class="pre">3</span></code>|<code class="docutils literal notranslate"><span class="pre">-1</span></code>|
|Multiplication|*|<code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">*</span> <span class="pre">3</span></code>|<code class="docutils literal notranslate"><span class="pre">6</span></code>|
|Division|/|<code class="docutils literal notranslate"><span class="pre">7</span> <span class="pre">/</span> <span class="pre">3</span></code>|<code class="docutils literal notranslate"><span class="pre">2.66667</span></code>|
|Remainder|%|<code class="docutils literal notranslate"><span class="pre">7</span> <span class="pre">%</span> <span class="pre">3</span></code>|<code class="docutils literal notranslate"><span class="pre">1</span></code>|
|Exponentiation|**|<code class="docutils literal notranslate"><span class="pre">2</span> <span class="pre">**</span> <span class="pre">0.5</span></code>|<code class="docutils literal notranslate"><span class="pre">1.41421</span></code>|</p>
<p>In addition, you can use parentheses to denote priority, just like in math.</p>
<p>As an exercise, try to predict what each of these lines below will print out. Then, run the cell and check your answers.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">q_1</span> <span class="o">=</span> <span class="p">(</span><span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q_1</span><span class="p">)</span> <span class="c1"># What prints here?</span>

<span class="n">q_2</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">/</span> <span class="mi">2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q_2</span><span class="p">)</span> <span class="c1"># What prints here?</span>

<span class="n">some_variable</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="mi">2</span> <span class="o">+</span> <span class="mi">3</span> <span class="o">+</span> <span class="mi">4</span> <span class="o">+</span> <span class="mi">5</span>
<span class="n">q_3</span> <span class="o">=</span> <span class="n">some_variable</span> <span class="o">*</span> <span class="mi">4</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q_3</span><span class="p">)</span> <span class="c1"># What prints here?</span>

<span class="n">q_4</span> <span class="o">=</span> <span class="n">some_variable</span> <span class="o">%</span> <span class="mi">3</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q_4</span><span class="p">)</span> <span class="c1"># What prints here?</span>

<span class="n">step_1</span> <span class="o">=</span> <span class="mi">6</span> <span class="o">*</span> <span class="mi">5</span> <span class="o">-</span> <span class="p">(</span><span class="mi">6</span> <span class="o">*</span> <span class="mi">3</span><span class="p">)</span>
<span class="n">step_2</span> <span class="o">=</span> <span class="p">(</span><span class="mi">2</span> <span class="o">**</span> <span class="mi">3</span><span class="p">)</span> <span class="o">/</span> <span class="mi">4</span> <span class="o">*</span> <span class="mi">7</span>
<span class="n">q_5</span> <span class="o">=</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">step_1</span> <span class="o">**</span> <span class="mi">2</span> <span class="o">*</span> <span class="n">step_2</span>
<span class="nb">print</span><span class="p">(</span><span class="n">q_5</span><span class="p">)</span> <span class="c1"># What prints here?</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>3.5
5.0
60
0
2017.0
</pre></div>
</div>
</div>
</div>
</section>
<section id="strings">
<h3>Strings<a class="headerlink" href="#strings" title="Link to this heading">#</a></h3>
<p>You can do many things with strings. Today you’ll learn how to concatenate and find the length of strings.</p>
<p>Concatenation is basically addition but with strings. For example:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;University &quot;</span> <span class="o">+</span> <span class="s2">&quot;of California, &quot;</span> <span class="o">+</span> <span class="s2">&quot;Berkeley&quot;</span><span class="p">)</span> 

<span class="n">school</span> <span class="o">=</span> <span class="s2">&quot;UC Berkeley &quot;</span>
<span class="n">department</span> <span class="o">=</span> <span class="s2">&quot;Near Eastern Studies &quot;</span>
<span class="n">year</span> <span class="o">=</span> <span class="s2">&quot;2018&quot;</span>
<span class="nb">print</span><span class="p">(</span><span class="n">school</span> <span class="o">+</span> <span class="n">department</span> <span class="o">+</span> <span class="n">year</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>University of California, Berkeley
UC Berkeley Near Eastern Studies 2018
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="functions">
<h2>Functions<a class="headerlink" href="#functions" title="Link to this heading">#</a></h2>
<p>So far, you’ve learnt how to carry out basic operations on your inputs and assign variables to certain values.
Now, let’s try to be more efficient.</p>
<p>Let’s say we want to perform a certain operation on many different inputs that will produce distinct outputs. What do we do? We write a <em><strong>function</strong></em>.</p>
<p>A function is a block of code which works a lot like a machine: it takes an input, does something to it, and produces an output.</p>
<p>The input is put between brackets and can also be called the <em>argument</em> or <em>parameter</em>. Functions can have multiple arguments.</p>
<p>Try running the cell below after changing the variable <em>name</em>:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Edit this cell to your own name!</span>
<span class="n">name</span> <span class="o">=</span> <span class="s2">&quot;John Doe&quot;</span>

<span class="c1"># Our function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">hello</span><span class="p">(</span><span class="n">name</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Hello &quot;</span> <span class="o">+</span> <span class="n">name</span> <span class="o">+</span> <span class="s2">&quot;!&quot;</span>

<span class="n">hello</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Hello John Doe!&#39;
</pre></div>
</div>
</div>
</div>
<p>Interesting, right? Now, you don’t need to write 10 different lines with 10 different names to print a special greeting for each person. All you need to is write one function that does all the work for you!</p>
<p>Functions are very useful in programming because they help you write shorter and more modular code. A good example to think of is the <em>print</em> function, which we’ve used quite a lot in this module. It takes many different inputs and performs the specified task, printing its input, in a simple manner.</p>
<p>Now, let’s write our own function. Let’s look at the following rules:</p>
<section id="defining">
<h3>Defining<a class="headerlink" href="#defining" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>All functions must start with the “def” keyword.</p></li>
<li><p>All functions must have a name, followed by parentheses, followed by a colon. Eg. def hello( ):</p></li>
<li><p>The brackets may have a variable that stores its arguments (inputs)</p></li>
<li><p>All functions must have a “return” statement which will return the output. Think of a function like a machine. When you put something inside, you want it to return something. Hence, this is very important.</p></li>
</ul>
</section>
<section id="calling">
<h3>Calling<a class="headerlink" href="#calling" title="Link to this heading">#</a></h3>
<p>After you define a function, it’s time to use it. This is known as <em>calling</em> a function.</p>
<p>To call a function, simply write the name of the function with your input variable in parantheses (argument).</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="c1">#name(argument):</span>
    <span class="k">return</span> <span class="c1"># function must return a value</span>

<span class="c1"># Calling our function below...</span>
<span class="n">my_first_function</span><span class="p">(</span><span class="n">name</span><span class="p">)</span>
</pre></div>
</div>
</section>
</section>
<section id="scope">
<h2>Scope<a class="headerlink" href="#scope" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>Programming is great, but it can also be quite peculiar sometimes. For example, each variable defined outside of any functions by default, is <strong>global</strong>.</p>
<p>Try executing the code below:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Global Variable - name</span>
<span class="c1"># Ninurta is from &quot;Ninurta&#39;s return to Nibru: a šir-gida to Ninurta&quot;</span>
<span class="n">description</span> <span class="o">=</span> <span class="s2">&quot;Son of Enlil!&quot;</span>

<span class="c1"># our function</span>
<span class="k">def</span><span class="w"> </span><span class="nf">title</span><span class="p">(</span><span class="n">description</span><span class="p">):</span>
    <span class="k">return</span> <span class="s2">&quot;Ninurta, &quot;</span> <span class="o">+</span> <span class="n">description</span>

<span class="c1"># calling our function</span>
<span class="n">title</span><span class="p">(</span><span class="n">description</span><span class="p">)</span>

<span class="c1"># un-comment the line below</span>
<span class="c1">#title(&quot;Warrior of Enlil&quot;)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>&#39;Ninurta, Son of Enlil!&#39;
</pre></div>
</div>
</div>
</div>
<p>Even though your argument was called <em>decription</em>, it didnt output “Son of Enlil”, which was the <strong>global</strong> value of the variable called <em>decription</em>. Instead, it gave preference to the <strong>local</strong> value which was given to the function as an argument, “Warrior of Enlil.”</p>
<p>Think of it as filling your coffeemaker (function) up with coffee (variable). If you have a variable with <strong>global</strong> access called <em>decription</em> which is filled with coffee called “Son of Enlil”, you can choose to either:</p>
<ol class="arabic simple">
<li><p>Not input another value in your function. (Use the same name of the <strong>global</strong> variable as your argument)</p></li>
</ol>
<p>In this case, the <strong>global</strong> type of coffee will still be used.</p>
<ol class="arabic simple" start="2">
<li><p>Choose to fill another value. In this case, your function will assign the value you pass as the argument to the “variable” which <strong>is</strong> the argument.</p></li>
</ol>
<p>Think of it as overriding your <strong>global</strong> coffee and putting a new type of coffee into your coffeemaker.</p>
<section id="activity">
<h3>Activity<a class="headerlink" href="#activity" title="Link to this heading">#</a></h3>
<p>Using the rules of scope you’ve learned so far, complete the function <em>puzzle</em> to output the value <strong>35</strong>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Scope Puzzle!</span>
<span class="n">x</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">y</span> <span class="o">=</span> <span class="mi">6</span>
<span class="n">z</span> <span class="o">=</span> <span class="mi">7</span>

<span class="k">def</span><span class="w"> </span><span class="nf">puzzle</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">):</span>
    <span class="k">return</span> <span class="n">x</span> <span class="o">*</span> <span class="n">y</span>

<span class="c1"># fill in this function call</span>
<span class="n">puzzle</span><span class="p">()</span>
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section id="control">
<h2>Control<a class="headerlink" href="#control" title="Link to this heading">#</a></h2>
<hr class="docutils" />
<p>Sometimes, we want to manipulate the flow of our code. For example, we might want our code to make decisions on its own or repeat itself a certain amount of times. By implementing control structures, we can avoid redundant code and make processes more efficient.</p>
<section id="conditionals">
<h3>Conditionals<a class="headerlink" href="#conditionals" title="Link to this heading">#</a></h3>
<p>We use <strong>conditionals</strong> to run certain pieces of code <em>if</em> something is true. For example, we should only go to the grocery store <em>if</em> we are out of peanut butter!</p>
<p>We use <strong>comparators</strong> to determine whether an expression is <em>true</em> or <em>false</em>. There are six comparators to be aware of:</p>
<ol class="arabic simple">
<li><p>Equal to: ==</p></li>
<li><p>Not equal to: !=</p></li>
<li><p>Greater than: &gt;</p></li>
<li><p>Greater than or equal to: &gt;=</p></li>
<li><p>Less than: &lt;</p></li>
<li><p>Less than or equal to: &lt;=</p></li>
</ol>
<p>Let’s try it out!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># EXERCISE 1</span>
<span class="c1"># Determine whether the following will print true or false</span>
<span class="c1"># Run the code to check your answers!</span>

<span class="nb">print</span><span class="p">(</span><span class="mi">10</span> <span class="o">==</span> <span class="mi">10</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="mi">2016</span> <span class="o">&lt;</span> <span class="mi">2017</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;foo&quot;</span> <span class="o">!=</span> <span class="s2">&quot;bar&quot;</span><span class="p">)</span>

<span class="nb">print</span><span class="p">(</span> <span class="p">(</span><span class="mi">1</span><span class="o">+</span><span class="mi">2</span><span class="o">+</span><span class="mi">3</span><span class="o">+</span><span class="mi">4</span><span class="o">+</span><span class="mi">5</span><span class="p">)</span> <span class="o">&lt;=</span>  <span class="p">(</span><span class="mi">1</span><span class="o">*</span><span class="mi">2</span><span class="o">*</span><span class="mi">3</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>True
True
True
False
</pre></div>
</div>
</div>
</div>
<p>Now that we know how to compare values, we can tell our computer to make decisions using the <strong>if statement</strong>.</p>
</section>
<section id="if-statements">
<h3>If Statements<a class="headerlink" href="#if-statements" title="Link to this heading">#</a></h3>
<p>An <strong>if statement</strong> takes the following form:</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="k">if</span> <span class="p">(</span><span class="n">condition1</span><span class="p">):</span>
    <span class="c1"># code to be executed if condition1 is true</span>
<span class="k">elif</span> <span class="p">(</span><span class="n">condition2</span><span class="p">):</span>
    <span class="c1"># code to be executed if condition2 is true</span>
<span class="k">else</span><span class="p">:</span>
    <span class="c1"># code to be executed otherwise</span>
</pre></div>
</div>
<p>With if statements, we can control which code is executed. Check out how handy this can be in the activity below!</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># We want to see what part of a Sumerian text someone is reading.</span>

<span class="c1"># Modify the variables below so you know what page someone is on after a certain time</span>

<span class="c1"># Run the code when you&#39;re done to see the results.</span>

<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Read &#39;Dumuzid&#39;s dream&#39;&quot;</span><span class="p">)</span>
<span class="n">minutes</span> <span class="o">=</span> <span class="mi">5</span>
<span class="n">line_num</span> <span class="o">=</span> <span class="mi">10</span>

<span class="k">if</span> <span class="p">(</span><span class="n">minutes</span> <span class="o">&gt;=</span> <span class="mi">5</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;He started reading &#39;Dumuzid&#39;s dream&#39;&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="p">(</span><span class="n">line_num</span> <span class="o">&lt;</span> <span class="mi">5</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Began paragraph 1: His heart was full of tears as he went out into the countryside. The lad&#39;s heart was full of tears as he went out into the countryside...&quot;</span><span class="p">)</span>
    <span class="k">elif</span> <span class="p">(</span><span class="n">line_num</span> <span class="o">&gt;=</span> <span class="mi">5</span> <span class="ow">and</span> <span class="n">line_num</span> <span class="o">&lt;</span> <span class="mi">15</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Began paragraph 2: Grieve, grieve, O countryside, grieve! O countryside, grieve! O marshes, cry out!&quot;</span><span class="p">)</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Began paragraph 3: -- it was a dream! He shivered -- it was sleep! He rubbed his eyes, he was terrified.&quot;</span><span class="p">)</span>
<span class="k">else</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;He did not have enough time to finish reading &#39;Dumuzid&#39;s dream&#39;.&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Read &#39;Dumuzid&#39;s dream&#39;
He started reading &#39;Dumuzid&#39;s dream&#39;
Began paragraph 2: Grieve, grieve, O countryside, grieve! O countryside, grieve! O marshes, cry out!
</pre></div>
</div>
</div>
</div>
</section>
<section id="for-loops">
<h3>For Loops<a class="headerlink" href="#for-loops" title="Link to this heading">#</a></h3>
<p>We can also regulate the flow of our code by repeating some action over and over. Say that we wanted to greet ten people. Instead of copying and pasting the same call to <em>print</em> over and over again, it would be better to use a <strong>for loop</strong>.</p>
<p>A basic <strong>for loop</strong> is written in the following order:</p>
<ul class="simple">
<li><p>The word “for”</p></li>
<li><p>A name we want to give each item in a sequence</p></li>
<li><p>The word “in”</p></li>
<li><p>A sequence (i.e. “range(100)” to go through numbers 0-99</p></li>
</ul>
<p>For example, to greet someone ten times, we could write:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1"># Run me to see &quot;hello!&quot; printed ten times!</span>
<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">10</span><span class="p">):</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;hello!&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>hello!
hello!
hello!
hello!
hello!
hello!
hello!
hello!
hello!
hello!
</pre></div>
</div>
</div>
</div>
<p>We can also iterate over a list of number of strings. For example, let’s say we have a list of tiltles from texts:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">texts</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;title_1&quot;</span><span class="p">,</span> <span class="s2">&quot;title_2&quot;</span><span class="p">,</span> <span class="s2">&quot;title_3&quot;</span><span class="p">,</span> <span class="s2">&quot;title_4&quot;</span><span class="p">]</span>
<span class="k">for</span> <span class="n">text</span> <span class="ow">in</span> <span class="n">texts</span><span class="p">:</span>
    <span class="nb">print</span><span class="p">(</span><span class="n">text</span><span class="p">)</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>title_1
title_2
title_3
title_4
</pre></div>
</div>
</div>
</div>
<p>In this way, for loops help us avoid redundant code and have useful capabilities.</p>
<p><strong>Exercise:</strong> Write a function that returns the concatenation of the first <em>n</em> details about a word, where <em>n</em> is the input to the function. Use a for loop! (Insert a “|” between each of the categories as well.)</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">word</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;form: dub-saŋ-ta &quot;</span><span class="p">,</span> <span class="s2">&quot;gw: first &quot;</span><span class="p">,</span> <span class="s2">&quot;id_text: c.0.1.1 &quot;</span><span class="p">,</span> <span class="s2">&quot;lang: sux &quot;</span><span class="p">,</span> <span class="s2">&quot;line_no: 1 &quot;</span><span class="p">,</span> <span class="s2">&quot;text_name: Ur III catalogue from Nibru (N1)&quot;</span><span class="p">]</span>
<span class="k">def</span><span class="w"> </span><span class="nf">concat_first_n</span><span class="p">(</span><span class="n">n</span><span class="p">):</span>
    <span class="c1"># YOUR CODE HERE</span>
    <span class="o">...</span>    

<span class="n">concat_first_n</span><span class="p">(</span><span class="mi">4</span><span class="p">)</span> <span class="c1"># Should look like =  &quot;form: dub-saŋ-ta; gw: first; id_text: c.0.1.1; lang: sux&quot;</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="table-arrays">
<h3>Table &amp; Arrays<a class="headerlink" href="#table-arrays" title="Link to this heading">#</a></h3>
</section>
<section id="arrays">
<h3>Arrays<a class="headerlink" href="#arrays" title="Link to this heading">#</a></h3>
<p>Arrays are a helpful type of datastructure. Information can easily be accessed in arrays by using indices. Earlier in this module, you have seen lists. Lists are similar to arrays, but arrays are used more often for large data sets becuase of very useful built in properties that lists do not have.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">nums_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">]</span> <span class="c1"># a list of integers</span>
<span class="n">nums_array</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">([</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">,</span> <span class="mi">9</span><span class="p">,</span> <span class="mi">10</span><span class="p">])</span> <span class="c1">#an array of integers</span>

<span class="c1">#For example, if we divide an array by 3 or it divides each element by 3. </span>
<span class="c1">#If we tried this on the list, it would cause an error.</span>

<span class="n">nums_array_div3</span> <span class="o">=</span> <span class="n">nums_array</span><span class="o">/</span><span class="mi">3</span> <span class="c1">#works for addition, subtraction, multiplication, etc.</span>
</pre></div>
</div>
</div>
</div>
<p>You can access specific elements in arrays by indexing. One thing to note: we always start with index 0 for the first element in any CompSci, iterable datastructure. Index 1 would give you the second element and so on.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">nums_array</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="nb">print</span><span class="p">(</span><span class="n">nums_array</span><span class="p">[</span><span class="nb">len</span><span class="p">(</span><span class="n">nums_array</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">])</span><span class="c1"># we can easily print out the last element using the len function on the array</span>

<span class="c1">#Task: print the 3rd element:</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1
10
</pre></div>
</div>
</div>
</div>
<p>One cool feature of python arrays that is not always available in other programming languages is a special notation to access multiple elements of an array at a time. Generalized: array[start:end]</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nums_array</span><span class="p">[</span><span class="mi">1</span><span class="p">:]</span> <span class="c1">#gives you everything after index 1, including index 1</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([ 2,  3,  4,  5,  6,  7,  8,  9, 10])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nums_array</span><span class="p">[</span><span class="mi">2</span><span class="p">:</span><span class="mi">5</span><span class="p">]</span> <span class="c1">#gives you index elem at index 2 through index 4</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>array([3, 4, 5])
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="c1">#Try some on your own!</span>
<span class="o">...</span>
</pre></div>
</div>
</div>
</div>
</section>
<section id="tables">
<h3>Tables<a class="headerlink" href="#tables" title="Link to this heading">#</a></h3>
<section id="pandas">
<h4><code class="docutils literal notranslate"><span class="pre">pandas</span></code><a class="headerlink" href="#pandas" title="Link to this heading">#</a></h4>
<p><code class="docutils literal notranslate"><span class="pre">pandas</span></code> is designed to make it easier to work with structured data. Most of the analyses you might perform will likely involve using tabular data, e.g., from .csv files or relational databases (e.g., SQL). The <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code> object in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> is “a two-dimensional tabular, column-oriented data structure with both row and column labels.” Pandas is very similar to Numpy tables and is sometimes more complicated, but if you learn how to use Pandas dataframes (Pandas’ version of a Numpy table), you can easily learn how to use Numpy tables, which you will see later on.</p>
<p>If you’re curious:</p>
<blockquote>
<div><p>The <code class="docutils literal notranslate"><span class="pre">pandas</span></code> name itself is derived from <em>panel data</em>, an econometrics term for multidimensional structured data sets, and <em>Python data analysis</em> itself. After getting introduced, you can consult the full <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/"><code class="docutils literal notranslate"><span class="pre">pandas</span></code> documentation</a>.</p>
</div></blockquote>
<p>We’ll work with some data on Sumerian texts.(what words a text contains)</p>
<p>Let’s begin by importing <code class="docutils literal notranslate"><span class="pre">pandas</span></code> using the conventional abbreviation: pd.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">mpl</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>

<span class="n">mpl</span><span class="o">.</span><span class="n">rc</span><span class="p">(</span><span class="s1">&#39;savefig&#39;</span><span class="p">,</span> <span class="n">dpi</span><span class="o">=</span><span class="mi">200</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">style</span><span class="o">.</span><span class="n">use</span><span class="p">(</span><span class="s1">&#39;ggplot&#39;</span><span class="p">)</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;xtick.minor.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
<span class="n">plt</span><span class="o">.</span><span class="n">rcParams</span><span class="p">[</span><span class="s1">&#39;ytick.minor.size&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="mi">0</span>
</pre></div>
</div>
</div>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> function in <code class="docutils literal notranslate"><span class="pre">pandas</span></code> allows us to easily import our data. By default, it assumes the data is comma-delimited. However, you can specify the delimiter used in your data (e.g., tab, semicolon, pipe, etc.). There are several parameters that you can specify. See the documentation <a class="reference external" href="http://pandas.pydata.org/pandas-docs/stable/generated/pandas.read_csv.html">here</a>. <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> returns a <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>.</p>
<p>Notice that we call <code class="docutils literal notranslate"><span class="pre">read_csv()</span></code> using the <code class="docutils literal notranslate"><span class="pre">pd</span></code> abbreviation from the import statement above.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">all_texts</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Data/alltexts.csv&#39;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span>
<span class="n">all_texts</span> <span class="o">=</span> <span class="n">all_texts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">all_texts</span><span class="o">.</span><span class="n">lang</span> <span class="o">==</span> <span class="s1">&#39;sux&#39;</span><span class="p">,</span> <span class="p">:]</span>
<span class="n">twenty_texts</span> <span class="o">=</span> <span class="n">all_texts</span><span class="p">[:</span><span class="mi">20</span><span class="p">]</span> <span class="c1"># this shortens the table to only 20 texts, so the size is not too overwhelming</span>
<span class="n">twenty_texts</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>anzag</td>
      <td>NaN</td>
      <td>an-zag-še₃</td>
      <td>horizon</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>3</td>
      <td>3</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>anŋi</td>
      <td>NaN</td>
      <td>an-ŋi₆</td>
      <td>eclipse</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>7</th>
      <td>zu</td>
      <td>NaN</td>
      <td>zu</td>
      <td>know</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>V/t</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>8</th>
      <td>ama</td>
      <td>NaN</td>
      <td>ama</td>
      <td>mother</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>tu</td>
      <td>NaN</td>
      <td>tu₆</td>
      <td>incantation</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>10</th>
      <td>zu</td>
      <td>NaN</td>
      <td>zu-ke₄</td>
      <td>know</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>V/t</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>11</th>
      <td>gi</td>
      <td>NaN</td>
      <td>ŋiš-gi</td>
      <td>thicket</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>5</td>
      <td>5</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>12</th>
      <td>tuku</td>
      <td>NaN</td>
      <td>tuku₄-e</td>
      <td>rock</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>5</td>
      <td>5</td>
      <td>V/t</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>13</th>
      <td>AN</td>
      <td>NaN</td>
      <td>AN</td>
      <td>NaN</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>6</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>14</th>
      <td>KAŠ₄</td>
      <td>NaN</td>
      <td>KAŠ₄</td>
      <td>NaN</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>6</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>15</th>
      <td>AN</td>
      <td>NaN</td>
      <td>AN</td>
      <td>NaN</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>6</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>16</th>
      <td>KAŠ₄</td>
      <td>NaN</td>
      <td>KAŠ₄</td>
      <td>NaN</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>6</td>
      <td>6</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>17</th>
      <td>me</td>
      <td>NaN</td>
      <td>me₃-ke₄</td>
      <td>battle</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>6</td>
      <td>6</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>18</th>
      <td>mašmaš</td>
      <td>NaN</td>
      <td>maš-maš</td>
      <td>sorcerer</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>7</td>
      <td>7</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>19</th>
      <td>erim</td>
      <td>NaN</td>
      <td>erim₂</td>
      <td>enemy</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>7</td>
      <td>7</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Great! You’ve created a <code class="docutils literal notranslate"><span class="pre">pandas</span></code> <code class="docutils literal notranslate"><span class="pre">DataFrame</span></code>. We can look at our data by using the <code class="docutils literal notranslate"><span class="pre">.head()</span></code> method. By default, this shows the header (column names) and the first five rows. Passing an integer, <span class="math notranslate nohighlight">\(n\)</span>, to <code class="docutils literal notranslate"><span class="pre">.head()</span></code> returns that number of rows. To see the last <span class="math notranslate nohighlight">\(n\)</span> rows, use <code class="docutils literal notranslate"><span class="pre">.tail()</span></code>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">twenty_texts</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>To find the number of rows, you can use the <code class="docutils literal notranslate"><span class="pre">len()</span></code> function. Alternatively, you can use the <code class="docutils literal notranslate"><span class="pre">shape</span></code> attribute.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">twenty_texts</span><span class="o">.</span><span class="n">shape</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(20, 12)
</pre></div>
</div>
</div>
</div>
<p>There are 20 rows and 12 columns.</p>
<p>Now, if we’re interested in the values (row) associated with a certain text,” we can use <code class="docutils literal notranslate"><span class="pre">.loc</span></code> and an index number or the index name.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">twenty_texts</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="c1">#gets the information of the first row</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>cf                                     dubsaŋ
extent                                    NaN
form                               dub-saŋ-ta
gw                                      first
id_text                               c.0.1.1
lang                                      sux
line_no                                     1
line_ref                                    1
pos                                        AJ
status                                    NaN
text_name    Ur III catalogue from Nibru (N1)
version                                   NaN
Name: 0, dtype: object
</pre></div>
</div>
</div>
</div>
<p>Another indexing option, <code class="docutils literal notranslate"><span class="pre">.iloc</span></code>, primarily works with integer positions. To select specific rows, we can do the following.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">twenty_texts</span><span class="o">.</span><span class="n">iloc</span><span class="p">[[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">9</span><span class="p">]]</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>5</th>
      <td>anzag</td>
      <td>NaN</td>
      <td>an-zag-še₃</td>
      <td>horizon</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>3</td>
      <td>3</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>6</th>
      <td>anŋi</td>
      <td>NaN</td>
      <td>an-ŋi₆</td>
      <td>eclipse</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>9</th>
      <td>tu</td>
      <td>NaN</td>
      <td>tu₆</td>
      <td>incantation</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>4</td>
      <td>4</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
</section>
</section>
</section>
<section id="section-2-data-read-prep">
<h2>Section 2: Data Read &amp; Prep <a id='section 2'></a><a class="headerlink" href="#section-2-data-read-prep" title="Link to this heading">#</a></h2>
<p>It’s important to be able to read and process data, so the data is clear and easy to use. With well-organized data, exploring patterns in data is easily accomplished. Here, you will learn some methods to clean up and filter data, make Document Term Matrices (DTM), and find differences between particular data points.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">sklearn.feature_extraction.text</span><span class="w"> </span><span class="kn">import</span> <span class="n">TfidfTransformer</span><span class="p">,</span> <span class="n">CountVectorizer</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">__future__</span><span class="w"> </span><span class="kn">import</span> <span class="n">print_function</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">ipywidgets</span><span class="w"> </span><span class="kn">import</span> <span class="n">interact</span><span class="p">,</span> <span class="n">interactive</span><span class="p">,</span> <span class="n">fixed</span><span class="p">,</span> <span class="n">interact_manual</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">ipywidgets</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">widgets</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">matplotlib.pyplot</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">plt</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">pandas</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">pd</span>
<span class="kn">import</span><span class="w"> </span><span class="nn">numpy</span><span class="w"> </span><span class="k">as</span><span class="w"> </span><span class="nn">np</span>
<span class="n">pd</span><span class="o">.</span><span class="n">options</span><span class="o">.</span><span class="n">display</span><span class="o">.</span><span class="n">max_rows</span> <span class="o">=</span> <span class="mi">20</span>
</pre></div>
</div>
</div>
</div>
<p>The first step we take is to read in our data.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s1">&#39;Data/alltexts.csv&#39;</span><span class="p">)</span>
<span class="n">alltex</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="mi">0</span><span class="p">],</span> <span class="n">axis</span><span class="o">=</span><span class="mi">1</span><span class="p">)</span> <span class="c1">#drop the first column, which is just the row numbers from the csv</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>I will also import the new text we’ll be analyzing.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">newtex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;Data/iddindaganAB.csv&quot;</span><span class="p">,</span> <span class="n">index_col</span><span class="o">=</span><span class="mi">0</span><span class="p">)</span><span class="o">.</span><span class="n">loc</span><span class="p">[:,</span> 
                                                          <span class="p">[</span><span class="s2">&quot;cf&quot;</span><span class="p">,</span> <span class="s2">&quot;extent&quot;</span><span class="p">,</span> <span class="s2">&quot;form&quot;</span><span class="p">,</span> <span class="s2">&quot;gw&quot;</span><span class="p">,</span> 
                                                           <span class="s2">&quot;id_text&quot;</span><span class="p">,</span> <span class="s2">&quot;lang&quot;</span><span class="p">,</span> <span class="s2">&quot;line_no&quot;</span><span class="p">,</span>
                                                           <span class="s2">&quot;line_ref&quot;</span><span class="p">,</span> <span class="s2">&quot;pos&quot;</span>
                                                          <span class="p">]]</span>
<span class="n">newtex</span><span class="p">[</span><span class="s2">&quot;id_text&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s2">&quot;NEW&quot;</span><span class="p">,</span> <span class="n">newtex</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">newtex</span><span class="p">[</span><span class="s2">&quot;text_name&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">repeat</span><span class="p">(</span><span class="s2">&quot;iddindaganAB&quot;</span><span class="p">,</span> <span class="n">newtex</span><span class="o">.</span><span class="n">shape</span><span class="p">[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">newtex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/pandas/core/indexing.py:1494: FutureWarning: 
Passing list-likes to .loc or [] with any missing label will raise
KeyError in the future, you can use .reindex() as an alternative.

See the documentation here:
https://pandas.pydata.org/pandas-docs/stable/indexing.html#deprecate-loc-reindex-listlike
  return self._getitem_tuple(key)
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>text_name</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>nin</td>
      <td>NaN</td>
      <td>nin</td>
      <td>lady</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>iddindaganAB</td>
    </tr>
    <tr>
      <th>1</th>
      <td>nun</td>
      <td>NaN</td>
      <td>nun</td>
      <td>prince</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>iddindaganAB</td>
    </tr>
    <tr>
      <th>2</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal-e-ne</td>
      <td>big</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>V/i</td>
      <td>iddindaganAB</td>
    </tr>
    <tr>
      <th>3</th>
      <td>saŋ</td>
      <td>NaN</td>
      <td>saŋ</td>
      <td>head</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>iddindaganAB</td>
    </tr>
    <tr>
      <th>4</th>
      <td>il</td>
      <td>NaN</td>
      <td>il₂</td>
      <td>raise</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>V/t</td>
      <td>iddindaganAB</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Then, merge the two together to get a full dataframe of our texts. Notice the head looks exactly the same.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">concat</span><span class="p">([</span><span class="n">alltex</span><span class="p">,</span><span class="n">newtex</span><span class="p">])</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stderr highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>/Library/Frameworks/Python.framework/Versions/3.6/lib/python3.6/site-packages/ipykernel_launcher.py:1: FutureWarning: Sorting because non-concatenation axis is not aligned. A future version
of pandas will change to not sort by default.

To accept the future behavior, pass &#39;sort=False&#39;.

To retain the current behavior and silence the warning, pass &#39;sort=True&#39;.

  &quot;&quot;&quot;Entry point for launching an IPython kernel.
</pre></div>
</div>
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>But the tail now consists of entries from the new text.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span><span class="o">.</span><span class="n">tail</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>667</th>
      <td>sug</td>
      <td>NaN</td>
      <td>sug₄-ga</td>
      <td>empty</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>iddindaganAB</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>668</th>
      <td>kišuš</td>
      <td>NaN</td>
      <td>ki-šuš₂-bi-im</td>
      <td>notation</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>NaN</td>
      <td>iddindaganAB</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>669</th>
      <td>zamin</td>
      <td>NaN</td>
      <td>zag-mi₂</td>
      <td>lyre</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>N</td>
      <td>NaN</td>
      <td>iddindaganAB</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>670</th>
      <td>dug</td>
      <td>NaN</td>
      <td>dug₃-ga</td>
      <td>good</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>iddindaganAB</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>671</th>
      <td>Inanak</td>
      <td>NaN</td>
      <td>{d}inana-kam</td>
      <td>1</td>
      <td>NEW</td>
      <td>sux</td>
      <td>NaN</td>
      <td>NaN</td>
      <td>DN</td>
      <td>NaN</td>
      <td>iddindaganAB</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Next, we filter out languages we don’t care about. To do this, we look at the ‘lang’ column, and select only those rows where the ‘lang’ value starts with ‘sux’</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">loc</span><span class="p">[[</span><span class="nb">str</span><span class="p">(</span><span class="n">i</span><span class="p">)[:</span><span class="mi">3</span><span class="p">]</span> <span class="o">==</span> <span class="s1">&#39;sux&#39;</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">alltex</span><span class="o">.</span><span class="n">lang</span><span class="p">],</span> <span class="p">:]</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Next, we’d like to filter out the rows that have nulls in the cf, gw, or pos columns. In other words, we keep columns that <em>don’t</em> have NA in gw AND <em>don’t</em> have NA in form AND <em>don’t</em> have NA in pos.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefilter</span> <span class="o">=</span> <span class="n">alltex</span> <span class="c1">#we&#39;ll use this later</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="o">~</span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">gw</span><span class="p">),</span>
                         <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="o">~</span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">form</span><span class="p">),</span>
                                       <span class="o">~</span><span class="n">pd</span><span class="o">.</span><span class="n">isnull</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">pos</span><span class="p">))</span>
                         <span class="p">)]</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Next, I filter out “X” and “(X)”. We want rows where gw is <em>not</em> X or (X) AND form is <em>not</em> X or (X) AND pos is <em>not</em> X or (X).</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">xstrings</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;X&quot;</span><span class="p">,</span> <span class="s2">&quot;(X)&quot;</span><span class="p">]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">gw</span><span class="p">,</span> <span class="n">xstrings</span><span class="p">)</span> <span class="p">,</span>
                         <span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">form</span><span class="p">,</span> <span class="n">xstrings</span><span class="p">),</span>
                                       <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">xstrings</span><span class="p">))</span>
                         <span class="p">)]</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>At this point, we’re ready to start lemmatizing, or creating the “terms”. Terms look like this for each word:</p>
<p>cf + ‘[’ + gw + ‘]’ + pos</p>
<p>To do this, we’ll paste together the appropriate column entries for each row, and create a new column called “Term”.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span><span class="p">[</span><span class="s1">&#39;Term&#39;</span><span class="p">]</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">cf</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">others</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">gw</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;[&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">cat</span><span class="p">(</span><span class="n">others</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">pos</span><span class="p">,</span> <span class="n">sep</span> <span class="o">=</span> <span class="s2">&quot;]&quot;</span><span class="p">)</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
      <th>Term</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>dubsaŋ[first]AJ</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>Enki[1]DN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>unu[dwelling]N</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>gal[big]V/i</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>ed[ascend]V/i</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>Now, with these terms, we can filter out stop words and “stop docs”.</p>
<ul class="simple">
<li><p>Stop word: A term to common in the language to be useful for classification; examples in English include the articles (a, an, the), as they are used in nearly every document and thus are not useful for distinguishing between documents.</p></li>
<li><p>“Stop doc”: A document that we would not like to include for whatever reason, such as being too short</p></li>
</ul>
<p>The things we want to filter out could change, so I’ll write a function to do this filtering.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="k">def</span><span class="w"> </span><span class="nf">filter</span><span class="p">(</span><span class="n">table</span><span class="p">,</span> <span class="n">stopwords</span> <span class="o">=</span> <span class="p">[],</span> <span class="n">stopdocs</span> <span class="o">=</span> <span class="p">[]):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;</span>
<span class="sd">    Parameters:</span>
<span class="sd">        table: Pandas dataframe</span>
<span class="sd">            The table to modify/filter.</span>
<span class="sd">        stopwords: Arraylike, Strings</span>
<span class="sd">            A collection of strings of terms to filter out</span>
<span class="sd">        stopdocs: Arraylike, Strings</span>
<span class="sd">    Returns a table without the terms and documents specified</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">return</span> <span class="n">table</span><span class="o">.</span><span class="n">loc</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">logical_and</span><span class="p">(</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">Term</span><span class="p">,</span> <span class="n">stopwords</span><span class="p">),</span> <span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">in1d</span><span class="p">(</span><span class="n">table</span><span class="o">.</span><span class="n">id_text</span><span class="p">,</span> <span class="n">stopdocs</span><span class="p">))]</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">stopwords</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;stopwords_top21.txt&quot;</span><span class="p">,</span> <span class="n">header</span><span class="o">=</span><span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">stopdocs</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">array</span><span class="p">(</span><span class="n">pd</span><span class="o">.</span><span class="n">read_csv</span><span class="p">(</span><span class="s2">&quot;stopdocuments_less50.txt&quot;</span><span class="p">,</span> <span class="n">header</span> <span class="o">=</span> <span class="kc">None</span><span class="p">)[</span><span class="mi">0</span><span class="p">])</span>
<span class="n">stopwords</span><span class="p">,</span><span class="n">stopdocs</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(array([&#39;dug[speak]V/t&#39;, &#39;ki[place]N&#39;, &#39;šu[hand]N&#39;, &#39;gal[big]V/i&#39;,
        &#39;lu[person]N&#39;, &#39;e[house]N&#39;, &#39;ŋar[place]V/t&#39;, &#39;šag[heart]N&#39;,
        &#39;kur[mountain]N&#39;, &#39;lugal[king]N&#39;, &#39;ud[sun]N&#39;, &#39;Enlil[1]DN&#39;,
        &#39;igi[eye]N&#39;, &#39;e[leave]V/i&#39;, &#39;kug[pure]V/i&#39;, &#39;an[sky]N&#39;,
        &#39;saŋ[head]N&#39;, &#39;ak[do]V/t&#39;, &#39;gub[stand]V/i&#39;, &#39;en[lord]N&#39;,
        &#39;ŋal[be]V/i&#39;], dtype=object),
 array([&#39;c.0.2.05&#39;, &#39;c.0.2.12&#39;, &#39;c.2.4.1.8&#39;, &#39;c.2.4.2.12&#39;, &#39;c.2.4.2.23&#39;,
        &#39;c.2.4.4.5&#39;, &#39;c.2.4.4.9&#39;, &#39;c.2.5.2.3&#39;, &#39;c.2.5.4.16&#39;, &#39;c.2.5.5.8&#39;,
        &#39;c.2.6.9.a&#39;, &#39;c.2.8.2.5&#39;, &#39;c.2.8.3.4&#39;, &#39;c.2.8.3.7&#39;, &#39;c.2.8.3.8&#39;,
        &#39;c.2.99.b&#39;, &#39;c.2.99.c&#39;, &#39;c.2.99.d&#39;, &#39;c.3.1.10&#39;, &#39;c.3.1.13.1&#39;,
        &#39;c.3.2.01&#39;, &#39;c.3.3.06&#39;, &#39;c.3.3.07&#39;, &#39;c.3.3.12&#39;, &#39;c.3.3.20&#39;,
        &#39;c.3.3.27&#39;, &#39;c.4.08.12&#39;, &#39;c.4.08.13&#39;, &#39;c.4.08.22&#39;, &#39;c.4.13.b&#39;,
        &#39;c.4.13.d&#39;, &#39;c.4.19.4&#39;, &#39;c.4.22.3&#39;, &#39;c.4.27.a&#39;, &#39;c.4.30.1&#39;,
        &#39;c.5.7.3&#39;, &#39;c.5.7.a&#39;, &#39;c.6.2.4&#39;], dtype=object))
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">alltex</span> <span class="o">=</span> <span class="nb">filter</span><span class="p">(</span><span class="n">alltex</span><span class="p">,</span> <span class="n">stopwords</span><span class="o">=</span><span class="n">stopwords</span><span class="p">,</span> <span class="n">stopdocs</span> <span class="o">=</span> <span class="n">stopdocs</span><span class="p">)</span>
<span class="n">alltex</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
      <th>Term</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>dubsaŋ[first]AJ</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>Enki[1]DN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>unu[dwelling]N</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>ed[ascend]V/i</td>
    </tr>
    <tr>
      <th>5</th>
      <td>anzag</td>
      <td>NaN</td>
      <td>an-zag-še₃</td>
      <td>horizon</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>3</td>
      <td>3.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
      <td>anzag[horizon]N</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>At this point, we are ready to create a tfidf matrix.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">np</span><span class="o">.</span><span class="n">unique</span><span class="p">(</span><span class="n">alltex</span><span class="o">.</span><span class="n">Term</span><span class="p">)</span><span class="o">.</span><span class="n">shape</span> <span class="c1">#this gives us an idea of how many columns we should see in the tfidf </span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(4320,)
</pre></div>
</div>
</div>
</div>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="tfidf">
<h1>TFIDF<a class="headerlink" href="#tfidf" title="Link to this heading">#</a></h1>
<p>We’d like to numerically represent our data in a useful way. For this purpose, we create a document-term matrix: a matrix with terms as the column labels, and documents as the rows. More generally, a document is split up into “tokens”- words, or group of words (ie, ngrams) that can help classify a document. These tokens allow us to basically represent documents as points in an N-d space, where N is the number of unique tokens used across documents. For example, if I had document A = “hello hello bye there” and Document B = “there there hello hello”, I could represent the first as the point (2, 1, 1) and the second as (2, 0, 2), with the order being (# of hellos, # of byes, # of theres). One could imagine, then, a matrix with each document as a row and each term as a column; the rows of this matrix would then basically look like the lists of numbers just given. The length of these rows is the number o unique terms across all the documents in our corpus.</p>
<p>In a document term matrix (DTM)The value in the cell at position (document, term) will have a number corresponding to how frequently that word appears in the document. However, if the word is very common across all our documents, it won’t be as helpful in classification. So we’d like to “penalize” words that appear too frequently, where “too frequently” is based on how many documents it appears in. Wanting a measure these two things</p>
<ul class="simple">
<li><p>How often some term t appears in a particular document d</p></li>
<li><p>How often this term t appears in all documents (and penalize for this)
leads us to the TFIDF (term frequency inverse document frequency measure).</p></li>
</ul>
<p>We calculate a TFIDF by the formula
$<span class="math notranslate nohighlight">\(
tfidf(t, d, D) = tf(t,d)\cdot idf(t,D)
\)</span><span class="math notranslate nohighlight">\(
where \)</span>t<span class="math notranslate nohighlight">\( is the term, \)</span>d<span class="math notranslate nohighlight">\( is the document, and \)</span>D<span class="math notranslate nohighlight">\( is the corpus.
Here, \)</span>tf(t,d)<span class="math notranslate nohighlight">\( is just going to be a function returning the raw count of term t in document d. The idf will be  
\)</span><span class="math notranslate nohighlight">\(
log\frac{1 + N}{1 + n_t} + 1
\)</span><span class="math notranslate nohighlight">\(
where N is the number of documents in the corpus and n_t is the number of docs where the term appears (formally \)</span>|{d \in D: t \in d}|$). The +1s in the log are to safeguard against log(0) or division by 0 errors, while the +1 outside ensures a positive value.</p>
<p>This means the overall expression for tfidf is
$<span class="math notranslate nohighlight">\(
f_{t,d}\cdot ln(\frac{N}{n_t})
\)</span>$
The full workings of the following procedure are documented here: <a class="reference external" href="http://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction">http://scikit-learn.org/stable/modules/feature_extraction.html#text-feature-extraction</a></p>
<p>To create this tfidf, we use sklearn’s vectorizer. But before doing that, we need to represent our corpus as a list of documents, which it currently is not (it’s currently split up in our dataframe). To do this, we aggregate:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;id_text&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">)</span> <span class="c1">#this line of code lumps together all documents&#39; terms together, and joins them as a single space separated string</span>
<span class="n">grouped</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>form</th>
      <th>gw</th>
      <th>lang</th>
      <th>pos</th>
      <th>text_name</th>
      <th>Term</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>nin nun il dirig Inanak uŋ šar šeŋ ulu zipaŋ n...</td>
      <td>nin nun il₂ dirig-ga {d}inana uŋ₃ šar₂-ra šeŋ₃...</td>
      <td>lady prince raise exceed 1 people 3600 rain wi...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N V/t V/i DN N NU V/i N N N V/t V/t N QP V/t...</td>
      <td>iddindaganAB iddindaganAB iddindaganAB iddinda...</td>
      <td>nin[lady]N nun[prince]N il[raise]V/t dirig[exc...</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>dubsaŋ Enki unu ed anzag anŋi zu ama tu zu gi ...</td>
      <td>dub-saŋ-ta {d}en-ki unu₂ im-ed₃ an-zag-še₃ an-...</td>
      <td>first 1 dwelling ascend horizon eclipse know m...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>AJ DN N V/i N N V/t N N V/t N V/t N N N V/i N ...</td>
      <td>Ur III catalogue from Nibru (N1) Ur III catalo...</td>
      <td>dubsaŋ[first]AJ Enki[1]DN unu[dwelling]N ed[as...</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>diŋir šembizida dar kur mete gud banda šerzid ...</td>
      <td>diŋir šembi₂-zid-da dar-a nu-kur₂ me-te-bi gud...</td>
      <td>deity kohl split different appropriate-thing o...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N V/t V/i N N V/i N N V/i N N N V/i N N NU V...</td>
      <td>Ur III catalogue at Yale (Y1) Ur III catalogue...</td>
      <td>diŋir[deity]N šembizida[kohl]N dar[split]V/t k...</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>mi niŋdu nin me šar sud nam nun re innin me hu...</td>
      <td>mi₂ niŋ₂-du₇-e nin me šar₂-ra su₃-ra₂-še₃ nam₂...</td>
      <td>cvne appropriate-thing lady Being 3600 distant...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N N N NU V/i N N DP N N V/i N V/i V/i V/i N ...</td>
      <td>OB catalogue from Nibru (N2) OB catalogue from...</td>
      <td>mi[cvne]N niŋdu[appropriate-thing]N nin[lady]N...</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>sud nam nun re innin me huš ud huš til hursaŋ ...</td>
      <td>su₃-ra₂-še₃ nam₂ nun-e re-a in-nin me huš-a ud...</td>
      <td>distant lord prince that lady Being reddish st...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>V/i N N DP N N V/i N V/i V/i N N V/i N N DP DP...</td>
      <td>OB catalogue in the Louvre (L) OB catalogue in...</td>
      <td>sud[distant]V/i nam[lord]N nun[prince]N re[tha...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We start off by just making a regular term matrix: just count up the number of times we see a word in a particular document. Sklearn’s countvectorizer takes care of this nicely. Below, we create a countvectorizer object. This is essentially like a really flexible tool ()like a Swiss army knife, perhaps) that we’ve just created in code. The parameters that are passed in sort of “configure” our Swiss army knife to behave in a particular way. Then, in later cells, we use a particular tool in our Swiss army knife to help us accomplish the end goal of creating a DTM.</p>
<p>Below, we’ve initialized a count vectorizer object. Here, the second argument is fairly straightforward to understand: when we apply this count vectorizer to something we want to turn into a DTM, we leave the capitalization as is.
The first is a bit more strange. This is a string that we’ve set that helps the CV object recognize what we want to be a token (a term, in this case). The default behavior for this object is just to treat all punctuation and whitespace as separators. So, it might just end up separating our grouped terms into separate tokens, which is not idea. This string passed in for token_pattern tells the count vectorizer that our tokens should 1) have at least 1 character, and 2) not contain any spaces. The CV then separates a string passed in into chunk, each chunk fulfiling the criteria set by the string. Basically, this means that we’ve told the count vectorizer to only separate at spaces and nothing else. This particular string searching is known as a regular experssion (regex), which you can learn more about and play around with here: <a class="reference external" href="https://regexr.com/">https://regexr.com/</a>.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cv</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">token_pattern</span><span class="o">=</span><span class="s1">&#39;[^ ]+&#39;</span><span class="p">,</span> <span class="n">lowercase</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span> <span class="c1">#initialize a count vectorizer object with correct tokenization for this term format</span>
</pre></div>
</div>
</div>
</div>
<p>Then, below, we’ve called upon one of the “tools” of the Swiss army knife; .fit_transform, which takes in a list of strings, interprets each string as a document, and spits out the DTM based on this interpretation. It splits apart each document based on the toke pattern given above, and doesn’t force lowercase. By doing this, we produce a dtm object. This has a .to_array() method which we use to represent it as a numpy array. The array is then easily converted to a dataframe; noting further that the rows will be each document (the names of which can be obtained from the original dataframe), and that the columns will be the tokens identified by the CV object. The result is displayed below.</p>
<p>This matrix is quite simple in that it shows us a very intutitive picture; each cell is just the number of times a word appeared in a particular document; like šusi[finger]N showed up thrice in the document labeled c.6.2.3.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dtm</span> <span class="o">=</span> <span class="n">cv</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">grouped</span><span class="o">.</span><span class="n">Term</span><span class="p">))</span>
<span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dtm</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">grouped</span><span class="o">.</span><span class="n">index</span><span class="p">)</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1-kam-ma[1st]NU</th>
      <th>1/2[1/2]NU</th>
      <th>1/3[1/3]NU</th>
      <th>10-kam-ma[10th]NU</th>
      <th>1000[1000]NU</th>
      <th>100[100]NU</th>
      <th>108000[108000]NU</th>
      <th>1080[1080]NU</th>
      <th>108[108]NU</th>
      <th>10[10]NU</th>
      <th>...</th>
      <th>šuteŋ[accept]V/t</th>
      <th>šutubur[mixture]N</th>
      <th>šutug[reed-hut]N</th>
      <th>šutum[storehouse]N</th>
      <th>šutur[garment]N</th>
      <th>šuš[cover]V/t</th>
      <th>šušer[emblem]N</th>
      <th>šuʾi[barber]N</th>
      <th>šuʾu[stone]N</th>
      <th>šuʾura[goose]N</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 4320 columns</p>
</div></div></div>
</div>
<p>With this in hand, we then want to transform it such that we have the inverse weighting discussed above; weight the words so that words appearing more frequently aren’t as big of a factor. This is accomplished by defining the transformer on the first line below, then using the transformer to transform the raw counts.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tt</span> <span class="o">=</span> <span class="n">TfidfTransformer</span><span class="p">(</span><span class="n">use_idf</span><span class="o">=</span><span class="kc">True</span><span class="p">)</span>
<span class="n">dtm_tf</span> <span class="o">=</span> <span class="n">tt</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="n">dtm</span><span class="p">)</span>
<span class="n">dtm_tf</span><span class="o">.</span><span class="n">shape</span> <span class="c1">#357 docs, 4335 unique terms, as expected</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>(357, 4320)
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dtm_tf</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cv</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">grouped</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">tfidf</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1-kam-ma[1st]NU</th>
      <th>1/2[1/2]NU</th>
      <th>1/3[1/3]NU</th>
      <th>10-kam-ma[10th]NU</th>
      <th>1000[1000]NU</th>
      <th>100[100]NU</th>
      <th>108000[108000]NU</th>
      <th>1080[1080]NU</th>
      <th>108[108]NU</th>
      <th>10[10]NU</th>
      <th>...</th>
      <th>šuteŋ[accept]V/t</th>
      <th>šutubur[mixture]N</th>
      <th>šutug[reed-hut]N</th>
      <th>šutum[storehouse]N</th>
      <th>šutur[garment]N</th>
      <th>šuš[cover]V/t</th>
      <th>šušer[emblem]N</th>
      <th>šuʾi[barber]N</th>
      <th>šuʾu[stone]N</th>
      <th>šuʾura[goose]N</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>0.00000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>0.22879</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>0.00000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.092157</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>0.00000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>0.00000</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.000000</td>
      <td>...</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
      <td>0.0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 4320 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">tfidf</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;Data/cleanonegram.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span> <span class="o">=</span> <span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="differences-between-documents">
<h1>Differences between documents<a class="headerlink" href="#differences-between-documents" title="Link to this heading">#</a></h1>
<p>Now, with a TFIDF matrix, we can begin assessing similarity of documents by treating each row of this matrix as a respresentation of that document (specifically, as a vector) in N dimensional Euclidian space, where N is the number of features (words). Similarity of documents can be interpreted as being the distance between documents in this N space. Here, we will be interested in two measures of distance: cosine distance and Euclidian (L2) distance.</p>
<section id="cosine-distance">
<h2>Cosine Distance<a class="headerlink" href="#cosine-distance" title="Link to this heading">#</a></h2>
<p>We start of with cosine similarity; it’s a bit easier to think about. A cosine similarity (<a class="reference external" href="https://en.wikipedia.org/wiki/Cosine_similarity">https://en.wikipedia.org/wiki/Cosine_similarity</a>) is defined as the <span class="math notranslate nohighlight">\(cos\theta\)</span> of two vectors, and can be calculated from the dot product of two vectors. Thus, to determine cosine similarity between two documents, we must calculate the dot products of their vector representations.</p>
<p>Suppose we have a vector space with n dimensions <span class="math notranslate nohighlight">\(\mathbb{V_n}\)</span> (think of the regular 2d Euclidian plane as  <span class="math notranslate nohighlight">\(\mathbb{V_2}\)</span>), and vectors <span class="math notranslate nohighlight">\(\boldsymbol{X},\boldsymbol{Y} \in \mathbb{V_n}\)</span>. We can represent <span class="math notranslate nohighlight">\(\boldsymbol{X}\)</span> and <span class="math notranslate nohighlight">\(\boldsymbol{Y}\)</span> as column vectors of size n:
$<span class="math notranslate nohighlight">\(
\boldsymbol{X} = \begin{bmatrix}
           x_{1} \\
           x_{2} \\
           \vdots \\
           x_{n}
         \end{bmatrix}, 
\boldsymbol{Y} = \begin{bmatrix}
           y_{1} \\
           y_{2} \\
           \vdots \\
           y_{n}
         \end{bmatrix}
\)</span>$</p>
<p>Then, the dot product of these two vectors is defined as</p>
<div class="math notranslate nohighlight">
\[
\boldsymbol{X}\cdot \boldsymbol{Y} = 
           x_{1}y_{1} +
           x_{2}y_{2} +
           \dots +
           x_{n}y_{n}
\]</div>
<p>The geometric intepretation of the dot product is defined as follows:
$<span class="math notranslate nohighlight">\(
\boldsymbol{X}\cdot\boldsymbol{Y} = |\boldsymbol{X}||\boldsymbol{Y}|cos\theta 
\)</span><span class="math notranslate nohighlight">\(
where \)</span>|\boldsymbol{X}|<span class="math notranslate nohighlight">\( and \)</span>|\boldsymbol{Y}|<span class="math notranslate nohighlight">\( are the so-called &quot;norms&quot; of the vectors (essentially, the lengths of the vectors). 
These norms are defined as the square root of the dot product of a vector with itself, so 
\)</span><span class="math notranslate nohighlight">\(|\boldsymbol{X}| = \sqrt{\boldsymbol{X}\cdot \boldsymbol{X} }
           =\sqrt{x_{1}x_{1} +
           x_{2}x_{2} +
           \dots +
           x_{n}x_{n}}\)</span><span class="math notranslate nohighlight">\(
Then, we can solve for \)</span>cos \theta<span class="math notranslate nohighlight">\(
\)</span><span class="math notranslate nohighlight">\(
cos \theta = \frac{\boldsymbol{X}\cdot\boldsymbol{Y}}{\sqrt{|\boldsymbol{X}|}\sqrt{|\boldsymbol{Y}|}}  
\)</span><span class="math notranslate nohighlight">\(
In other words, cosine similarity is 
\)</span><span class="math notranslate nohighlight">\(
\frac{\boldsymbol{X}\cdot\boldsymbol{Y}}{(\boldsymbol{X}\cdot\boldsymbol{X})(\boldsymbol{Y}\cdot\boldsymbol{Y})} 
=    \frac{x_{1}y_{1} +
           x_{2}y_{2} +
           \dots +
           x_{n}y_{n}}
           {
           \sqrt{(x_{1}x_{1} +
           x_{2}x_{2} +
           \dots +
           x_{n}x_{n})}
           \sqrt{(y_{1}y_{1} +
           y_{2}y_{2} +
           \dots +
           y_{n}y_{n})}
           }
\)</span>$
Finally, <strong>Cosine distance is simply 1 - the cosine similarity.</strong></p>
<p>To get a cosine distance, we can use scipy.spacial.disance’s cosine function. It takes two arrays of the same length, and returns the cosine distance between the two:</p>
<p><code class="docutils literal notranslate"><span class="pre">&gt;&gt;</span> <span class="pre">cosine(arr1,</span> <span class="pre">arr2)</span></code></p>
<p>This returns some number between 0 and 1. Why does it return 0 and 1? Basically, you can either have two documents be completely disparate (cosine distance of 1), which comes from  or they can be completely the same (cosine distance of 0). Thinking in terms of cosine similarity, it has similarity 0 when they’re disparate, and 1 when it’s the same document. You can think of it mathematically in the form above; if <span class="math notranslate nohighlight">\(\boldsymbol{X}=\boldsymbol{Y}\)</span>, then the cosine is just its square divided by itself, which would yield 1. Then, it’s logical that being completely dissimilar would yield 0. Of course, this also makes sense by the rule of dot products; if two vectors are orthogonal, then they have no overlap (here, overlap is highly analogous to similarity)and yield a dot product of 0.</p>
<p>A quick refresher on the cosine is below.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.spatial.distance</span><span class="w"> </span><span class="kn">import</span> <span class="n">cosine</span>
<span class="c1">#some demos</span>
<span class="n">test1</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test2</span> <span class="o">=</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">test1</span>
<span class="n">test3</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span> <span class="o">*</span> <span class="n">test1</span>
<span class="n">test4</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test4</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="n">test5</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="mi">10</span><span class="p">)</span>
<span class="n">test5</span><span class="p">[</span><span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="mi">1</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cosine</span><span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">))</span> <span class="c1">#should be 1 - 1 = 0, 1 - cosine of 0</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cosine</span><span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test3</span><span class="p">))</span> <span class="c1">#should be 1 - (-1) = 2, 1 - cosine of pi</span>
<span class="nb">print</span><span class="p">(</span><span class="n">cosine</span><span class="p">(</span><span class="n">test4</span><span class="p">,</span> <span class="n">test5</span><span class="p">))</span> <span class="c1">#should be 1 , 1 - cosine of pi/2</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>0.0
2.0
1.0
</pre></div>
</div>
</div>
</div>
<p>If the mathematical intuition doesn’t make sense, here’s a geometric motivation. Below is a tool to visualize cosine distance. This is for a 2d space, so basically you’d be looking at a classification between documents using just two words to differentiate them. Take a look at how the cosine similarity and cosine distance change as you change the each vector (remember, each vector represents the document). As you change the angle between them (meaning the documents are more separated, and thus more different), how does the cosine similarity and distance change? Another thing to do is to compare two situations; when a short vector and a long vector make the same angle as a long vector and a long vector. What’s the relationship between the angles produced in these two cases?</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">bound</span> <span class="o">=</span> <span class="mi">500</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.spatial.distance</span><span class="w"> </span><span class="kn">import</span> <span class="n">cosine</span>
<span class="k">def</span><span class="w"> </span><span class="nf">f</span><span class="p">(</span><span class="n">doc1word1</span><span class="p">,</span> <span class="n">doc1word2</span><span class="p">,</span> <span class="n">doc2word1</span><span class="p">,</span> <span class="n">doc2word2</span><span class="p">):</span>
    <span class="n">fig</span><span class="p">,</span> <span class="n">ax</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">subplots</span><span class="p">(</span><span class="n">figsize</span> <span class="o">=</span> <span class="p">(</span><span class="mi">8</span><span class="p">,</span><span class="mi">8</span><span class="p">))</span>
    <span class="n">circle1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">Circle</span><span class="p">((</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">bound</span><span class="o">/</span><span class="mi">5</span><span class="p">,</span> <span class="n">fill</span> <span class="o">=</span> <span class="kc">False</span><span class="p">)</span>
    <span class="n">arrow1</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dx</span> <span class="o">=</span> <span class="n">doc1word1</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">doc1word2</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">bound</span><span class="o">/</span><span class="mi">300</span><span class="p">,</span> <span class="n">length_includes_head</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#003262&#39;</span><span class="p">)</span>
    <span class="n">arrow2</span> <span class="o">=</span> <span class="n">plt</span><span class="o">.</span><span class="n">arrow</span><span class="p">(</span><span class="n">x</span><span class="o">=</span><span class="mi">0</span><span class="p">,</span> <span class="n">y</span><span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dx</span> <span class="o">=</span> <span class="n">doc2word1</span><span class="p">,</span> <span class="n">dy</span> <span class="o">=</span> <span class="n">doc2word2</span><span class="p">,</span> <span class="n">width</span> <span class="o">=</span> <span class="n">bound</span><span class="o">/</span><span class="mi">300</span><span class="p">,</span> <span class="n">length_includes_head</span> <span class="o">=</span> <span class="kc">True</span><span class="p">,</span> <span class="n">color</span> <span class="o">=</span> <span class="s1">&#39;#FDB515&#39;</span><span class="p">)</span>
    <span class="n">ax</span><span class="o">.</span><span class="n">add_artist</span><span class="p">(</span><span class="n">circle1</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bound</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">xlabel</span><span class="p">(</span><span class="s2">&quot;tfidf of word 1 for doc&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylabel</span><span class="p">(</span><span class="s2">&quot;tfidf of word 2 for doc&quot;</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">ylim</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">bound</span><span class="p">)</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">legend</span><span class="p">([</span><span class="n">arrow1</span><span class="p">,</span><span class="n">arrow2</span><span class="p">],</span> <span class="p">[</span><span class="s1">&#39;Doc 1&#39;</span><span class="p">,</span><span class="s1">&#39;Doc2&#39;</span><span class="p">])</span>
    <span class="n">plt</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>
    <span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Cosine distance: &quot;</span><span class="p">,</span> <span class="n">cosine</span><span class="p">([</span><span class="n">doc1word1</span><span class="p">,</span> <span class="n">doc1word2</span><span class="p">],</span> <span class="p">[</span><span class="n">doc2word1</span><span class="p">,</span> <span class="n">doc2word2</span><span class="p">]),</span> <span class="s2">&quot;</span><span class="se">\n</span><span class="s2">&quot;</span><span class="p">,</span> 
          <span class="s2">&quot;Cosine similarity: &quot;</span><span class="p">,</span> <span class="mi">1</span> <span class="o">-</span> <span class="n">cosine</span><span class="p">([</span><span class="n">doc1word1</span><span class="p">,</span> <span class="n">doc1word2</span><span class="p">],</span> <span class="p">[</span><span class="n">doc2word1</span><span class="p">,</span> <span class="n">doc2word2</span><span class="p">]))</span>

<span class="n">interactive_plot</span> <span class="o">=</span> <span class="n">interactive</span><span class="p">(</span><span class="n">f</span><span class="p">,</span> 
                               <span class="n">doc1word1</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">bound</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">bound</span><span class="p">),</span>
                               <span class="n">doc1word2</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">bound</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">bound</span><span class="p">),</span>
                               <span class="n">doc2word1</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">bound</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">bound</span><span class="p">),</span>
                               <span class="n">doc2word2</span><span class="o">=</span><span class="n">widgets</span><span class="o">.</span><span class="n">FloatSlider</span><span class="p">(</span><span class="n">value</span><span class="o">=</span><span class="n">bound</span><span class="o">/</span><span class="mi">2</span><span class="p">,</span> <span class="nb">min</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">max</span> <span class="o">=</span> <span class="n">bound</span><span class="p">)</span>
                              <span class="p">)</span>
<span class="c1"># output = interactive_plot.children[-1]</span>
<span class="c1"># output.layout.height = &#39;350px&#39;</span>
<span class="n">interactive_plot</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<img alt="../../_images/8ed6a21f383b164cff8a7648b1541b92d08a63278312e4cb92214b082287a01a.png" src="../../_images/8ed6a21f383b164cff8a7648b1541b92d08a63278312e4cb92214b082287a01a.png" />
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Cosine distance:  0.0 
 Cosine similarity:  1.0
</pre></div>
</div>
</div>
</div>
<p>You should’ve noticed an important feature of the cosine similarity; no matter what the lengths of the vectors are, the angle still tells us how close these two vectors look. This is really useful because it means that, to use cosine distance, we can have normalized or unnormalized data- it doesn’t matter! Ie, we can directly compare short and long bodies of  text. In other cases, it might look quite different just because one has many more words than the other so will look different by some metrics (like the Euclidean distance discussed below); but cosine distance doesn’t have that issue.</p>
<p>As a direct demonstration on htis dataset:
We expect the distance to be high between clusters 6 and 1, and close between documents within 6. Let’s see if this reflects that.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average cosine distance between last doc and 15 last docs:&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">cosine</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">16</span><span class="p">)]))</span>
<span class="nb">print</span><span class="p">(</span><span class="s2">&quot;Average cosine distance between last doc and 15 first docs: &quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">([</span><span class="n">cosine</span><span class="p">(</span><span class="n">tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">],</span> <span class="n">tfidf</span><span class="o">.</span><span class="n">iloc</span><span class="p">[</span><span class="n">i</span><span class="p">])</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="mi">15</span><span class="p">)]))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Average cosine distance between last doc and 15 last docs: 0.6841293144631566
Average cosine distance between last doc and 15 first docs:  0.8828295396688175
</pre></div>
</div>
</div>
</div>
<p>So looking at the average distance between the last doc (from cluster 6) and 15 other docs from cluster 6, the average distance is lower than the difference between that document and the documents from the other end, 15 docs from clusters 0 and 1. Makes sense.</p>
</section>
<section id="euclidean-distance">
<h2>Euclidean distance<a class="headerlink" href="#euclidean-distance" title="Link to this heading">#</a></h2>
<p>Another metric we might like to use is the Euclidian distance, which can be more natural to think about. That is, given two vectors (like the ones described above), we can compute the distance between the endpoints of those vectors as such:
$<span class="math notranslate nohighlight">\(
d = \sqrt{
(x_1 - y_1)^2 +
(x_2 - y_2)^2 + 
\dots + 
(x_n - y_n)^2 
}
\)</span><span class="math notranslate nohighlight">\(
You might recognize this as a generalized version of the Pythagorean theorem.
Also note that this can be related to the above picture of vectors, because this exactly corresponds to the norm of the vector \)</span>\boldsymbol{X} - \boldsymbol{Y}<span class="math notranslate nohighlight">\(:
\)</span><span class="math notranslate nohighlight">\(
|\boldsymbol{X} - \boldsymbol{Y}| = 
\Huge\lvert\small\begin{bmatrix}
x_1 - y_1 \\
x_2 - y_2 \\
\vdots\\
x_n - y_n
\end{bmatrix}\Huge\rvert
\normalsize= \sqrt{
(x_1 - y_1)^2 +
(x_2 - y_2)^2 + 
\dots + 
(x_n - y_n)^2 
}
\)</span>$
Using this definition, we can easily define a function to calculate a Euclidian distance.</p>
<p>However, one caveat is that distance can be largely affected by lengths of vectors; it is apparent that vectors of distinctly different lengths will be determined to be far apart, even in the body of their text is very similar (eg, compare [‘Hello World’] vs [‘Hello World Hello World Hello World Hello World Hello World’]). To correct for this, we can normalize the vectors (ie, divide the vector by its length, which is equivalent to dividing every single element by the vector’s length/norm). All normalized vectors then have length 1. After performing this operation, the Euclidian distance can then be calculated for a more accurate idea of the distance between vectors.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span><span class="w"> </span><span class="nn">scipy.spatial.distance</span><span class="w"> </span><span class="kn">import</span> <span class="n">euclidean</span>
<span class="kn">from</span><span class="w"> </span><span class="nn">scipy.spatial.distance</span><span class="w"> </span><span class="kn">import</span> <span class="n">norm</span>
<span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test2</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test1</span><span class="p">,</span> <span class="n">test3</span><span class="p">))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test4</span><span class="p">,</span> <span class="n">test5</span><span class="p">))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>33.76388603226827
33.76388603226827
1.4142135623730951
</pre></div>
</div>
</div>
</div>
<p>Notice that these values are too large to make sense; the furthest distance two points can be from one another on a unit sphere is 2. Normalizing will help:</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test1</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test1</span><span class="p">),</span> <span class="n">test2</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test2</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test1</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test1</span><span class="p">),</span> <span class="n">test3</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test3</span><span class="p">)))</span>
<span class="nb">print</span><span class="p">(</span><span class="n">euclidean</span><span class="p">(</span><span class="n">test4</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test4</span><span class="p">),</span> <span class="n">test5</span><span class="o">/</span><span class="n">norm</span><span class="p">(</span><span class="n">test5</span><span class="p">)))</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output stream highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>1.2412670766236366e-16
1.9999999999999998
1.4142135623730951
</pre></div>
</div>
</div>
</div>
<p>Euclidian distance can actually be safely used with tfidf matrices, as they are normalized by the idf weighting. However, it becomes more important if you are using the original term matrix with raw counts of words; the distances between documents would lbe affected by the length of documents and raw frequency of words, which is not ideal. In those cases, you would want to normalize values by dividing by length of document; ie, make it so that all documents lie on the same surface of a unit hypersphere.</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="n-grams">
<h1>N- grams<a class="headerlink" href="#n-grams" title="Link to this heading">#</a></h1>
<p>N grams are a way of representing groups of words as a single token. This can be useful as groups of words can sometimes be more informative than just single words themselves. For example, if you looked at the words “give” and “up” between documents, they might not tell you too much. But look at the pair of words “give up”, and then you might get some greater insight. N grams are a useful tool for this reason; clusters of words can give deeper insight by considering them as a whole, rather than just by their individual parts.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">prefilter</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>extent</th>
      <th>form</th>
      <th>gw</th>
      <th>id_text</th>
      <th>lang</th>
      <th>line_no</th>
      <th>line_ref</th>
      <th>pos</th>
      <th>status</th>
      <th>text_name</th>
      <th>version</th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>0</th>
      <td>dubsaŋ</td>
      <td>NaN</td>
      <td>dub-saŋ-ta</td>
      <td>first</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>1</td>
      <td>1.0</td>
      <td>AJ</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>1</th>
      <td>Enki</td>
      <td>NaN</td>
      <td>{d}en-ki</td>
      <td>1</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>DN</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>2</th>
      <td>unu</td>
      <td>NaN</td>
      <td>unu₂</td>
      <td>dwelling</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>N</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>3</th>
      <td>gal</td>
      <td>NaN</td>
      <td>gal</td>
      <td>big</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
    <tr>
      <th>4</th>
      <td>ed</td>
      <td>NaN</td>
      <td>im-ed₃</td>
      <td>ascend</td>
      <td>c.0.1.1</td>
      <td>sux</td>
      <td>2</td>
      <td>2.0</td>
      <td>V/i</td>
      <td>NaN</td>
      <td>Ur III catalogue from Nibru (N1)</td>
      <td>NaN</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We group together by document, as before, this time without any filtering.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">grouped2</span> <span class="o">=</span> <span class="n">alltex</span><span class="o">.</span><span class="n">groupby</span><span class="p">(</span><span class="s2">&quot;id_text&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">aggregate</span><span class="p">(</span><span class="s2">&quot; &quot;</span><span class="o">.</span><span class="n">join</span><span class="p">)</span> <span class="c1">#this line of code lumps together all documents&#39; terms together, and joins them as a single space separated string</span>
<span class="n">grouped2</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>cf</th>
      <th>form</th>
      <th>gw</th>
      <th>lang</th>
      <th>pos</th>
      <th>text_name</th>
      <th>Term</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>nin nun il dirig Inanak uŋ šar šeŋ ulu zipaŋ n...</td>
      <td>nin nun il₂ dirig-ga {d}inana uŋ₃ šar₂-ra šeŋ₃...</td>
      <td>lady prince raise exceed 1 people 3600 rain wi...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N V/t V/i DN N NU V/i N N N V/t V/t N QP V/t...</td>
      <td>iddindaganAB iddindaganAB iddindaganAB iddinda...</td>
      <td>nin[lady]N nun[prince]N il[raise]V/t dirig[exc...</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>dubsaŋ Enki unu ed anzag anŋi zu ama tu zu gi ...</td>
      <td>dub-saŋ-ta {d}en-ki unu₂ im-ed₃ an-zag-še₃ an-...</td>
      <td>first 1 dwelling ascend horizon eclipse know m...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>AJ DN N V/i N N V/t N N V/t N V/t N N N V/i N ...</td>
      <td>Ur III catalogue from Nibru (N1) Ur III catalo...</td>
      <td>dubsaŋ[first]AJ Enki[1]DN unu[dwelling]N ed[as...</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>diŋir šembizida dar kur mete gud banda šerzid ...</td>
      <td>diŋir šembi₂-zid-da dar-a nu-kur₂ me-te-bi gud...</td>
      <td>deity kohl split different appropriate-thing o...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N V/t V/i N N V/i N N V/i N N N V/i N N NU V...</td>
      <td>Ur III catalogue at Yale (Y1) Ur III catalogue...</td>
      <td>diŋir[deity]N šembizida[kohl]N dar[split]V/t k...</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>mi niŋdu nin me šar sud nam nun re innin me hu...</td>
      <td>mi₂ niŋ₂-du₇-e nin me šar₂-ra su₃-ra₂-še₃ nam₂...</td>
      <td>cvne appropriate-thing lady Being 3600 distant...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>N N N N NU V/i N N DP N N V/i N V/i V/i V/i N ...</td>
      <td>OB catalogue from Nibru (N2) OB catalogue from...</td>
      <td>mi[cvne]N niŋdu[appropriate-thing]N nin[lady]N...</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>sud nam nun re innin me huš ud huš til hursaŋ ...</td>
      <td>su₃-ra₂-še₃ nam₂ nun-e re-a in-nin me huš-a ud...</td>
      <td>distant lord prince that lady Being reddish st...</td>
      <td>sux sux sux sux sux sux sux sux sux sux sux su...</td>
      <td>V/i N N DP N N V/i N V/i V/i N N V/i N N DP DP...</td>
      <td>OB catalogue in the Louvre (L) OB catalogue in...</td>
      <td>sud[distant]V/i nam[lord]N nun[prince]N re[tha...</td>
    </tr>
  </tbody>
</table>
</div></div></div>
</div>
<p>We define a count vectorizer as before, but this time, we define an ngram range to produce ngrams of n = 1, 2, and 3.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">cv2</span> <span class="o">=</span> <span class="n">CountVectorizer</span><span class="p">(</span><span class="n">token_pattern</span><span class="o">=</span><span class="s1">&#39;[^ ]+&#39;</span><span class="p">,</span> <span class="n">lowercase</span> <span class="o">=</span> <span class="kc">False</span><span class="p">,</span> <span class="n">ngram_range</span><span class="o">=</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">3</span><span class="p">),</span> <span class="n">max_df</span> <span class="o">=</span> <span class="mf">.95</span><span class="p">,</span> <span class="n">min_df</span> <span class="o">=</span> <span class="mf">.05</span><span class="p">)</span> <span class="c1">#initialize a count vectorizer object with correct tokenization for this term format</span>
</pre></div>
</div>
</div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dtm2</span> <span class="o">=</span> <span class="n">cv2</span><span class="o">.</span><span class="n">fit_transform</span><span class="p">(</span><span class="nb">list</span><span class="p">(</span><span class="n">grouped2</span><span class="o">.</span><span class="n">Term</span><span class="p">))</span>
<span class="n">dtm2df</span> <span class="o">=</span> <span class="n">pd</span><span class="o">.</span><span class="n">DataFrame</span><span class="p">(</span><span class="n">dtm2</span><span class="o">.</span><span class="n">toarray</span><span class="p">(),</span> <span class="n">columns</span><span class="o">=</span><span class="n">cv2</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">(),</span> <span class="n">index</span><span class="o">=</span><span class="n">grouped2</span><span class="o">.</span><span class="n">index</span><span class="p">)</span>
<span class="n">dtm2df</span><span class="o">.</span><span class="n">head</span><span class="p">()</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1/2[1/2]NU</th>
      <th>10[10]NU</th>
      <th>1[1]NU</th>
      <th>2-kam-ma[2nd]NU</th>
      <th>2[2]NU</th>
      <th>3-kam-ma[3rd]NU</th>
      <th>3[3]NU</th>
      <th>4-kam-ma[4th]NU</th>
      <th>4[4]NU</th>
      <th>5-kam-ma[5th]NU</th>
      <th>...</th>
      <th>šud[prayer]N</th>
      <th>šudul[yoke]N</th>
      <th>šukur[ration]N</th>
      <th>šul[youth]V/i</th>
      <th>šul[youth]V/i Suen[1]DN</th>
      <th>šul[youth]V/i Utu[1]DN</th>
      <th>šuluh[cleansing]N</th>
      <th>šum[give]V/t</th>
      <th>šusi[finger]N</th>
      <th>šuš[cover]V/t</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
  </tbody>
</table>
<p>5 rows × 773 columns</p>
</div></div></div>
</div>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dtm2df</span><span class="o">.</span><span class="n">columns</span><span class="p">[</span><span class="n">dtm2df</span><span class="o">.</span><span class="n">columns</span><span class="o">.</span><span class="n">str</span><span class="o">.</span><span class="n">len</span><span class="p">()</span> <span class="o">&gt;</span> <span class="mi">25</span><span class="p">]</span> <span class="c1"># a somewhat contrived way to make sure we have some longer grams</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_plain highlight-myst-ansi notranslate"><div class="highlight"><pre><span></span>Index([&#39;a[arm]N namursaŋ[heroism]N&#39;, &#39;barag[sanctum]N mah[great]V/i&#39;,
       &#39;dumu[child]N aŋ[measure]V/t&#39;, &#39;gabari[copy]N tuku[acquire]V/t&#39;,
       &#39;hili[attractiveness]N gur[lift]V/t&#39;, &#39;kaš[decision]N bar[outside]V/t&#39;,
       &#39;munus[woman]N zid[right]V/i&#39;, &#39;murmara[noise]N ša[cvve]V/t&#39;,
       &#39;nadeg[advice]N deg[collect]V/t&#39;, &#39;nam[fate]N dug[good]V/i tar[cut]V/t&#39;,
       &#39;namtil[life]N sud[distant]V/i&#39;, &#39;ni[fear]N melim[splendor]N&#39;,
       &#39;ni[fear]N teŋ[approach]V/i&#39;, &#39;ni[self]RP ten[extinguish]V/t&#39;,
       &#39;niŋziŋal[living-creature]N&#39;, &#39;saŋki[forehead]N gid[long]V/i&#39;,
       &#39;sig[weak]V/i iginim[land]N&#39;, &#39;sipad[shepherd]N zid[right]V/i&#39;,
       &#39;suhuš[foundation]N gin[firm]V/i&#39;, &#39;ud[storm]N huš[reddish]V/i&#39;,
       &#39;uru[subscript]N adab[drum]N&#39;, &#39;uŋ[people]N daŋal[wide]V/i&#39;,
       &#39;uŋ[people]N giggi[black]V/i&#39;, &#39;uŋ[people]N lu[abundant]V/i&#39;,
       &#39;zid[right]V/i bar[outside]V/t&#39;, &#39;ŋal[open]V/t taka[abandon]V/t&#39;,
       &#39;ŋala[cvne]N dag[demolish]V/t&#39;, &#39;ŋeš[tree]N tuku[acquire]V/t&#39;,
       &#39;ŋeštug[ear]N daŋal[wide]V/i&#39;, &#39;ŋi[night]N ŋiʾunak[night]N&#39;,
       &#39;šim[aromatics]N eren[cedar]N&#39;],
      dtype=&#39;object&#39;)
</pre></div>
</div>
</div>
</div>
<p>We can now see that we indeed have generated 1, 2, and 3 grams! The column headings have just put the second term on a separate line from the first term in 2 grams. We can now potentially do some nice things with this, but first we have to check for the stuff that we filtered out in the first half; bigrams with those won’t be terribly useful, as they aren’t real information (things like NA, (X)).</p>
<p>So we generate a list of columns where we have these nonsense words, and drop them.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">nonsense</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;[nan]nan&quot;</span> <span class="ow">in</span> <span class="n">i</span> <span class="ow">or</span> <span class="s2">&quot;[X](X)&quot;</span> <span class="ow">in</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">cv2</span><span class="o">.</span><span class="n">get_feature_names</span><span class="p">()]</span>
<span class="n">dtm2df</span> <span class="o">=</span> <span class="n">dtm2df</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">arange</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">nonsense</span><span class="p">))[</span><span class="n">nonsense</span><span class="p">])</span>
<span class="n">dtm2df</span>
</pre></div>
</div>
</div>
<div class="cell_output docutils container">
<div class="output text_html"><div>
<style scoped>
    .dataframe tbody tr th:only-of-type {
        vertical-align: middle;
    }

    .dataframe tbody tr th {
        vertical-align: top;
    }

    .dataframe thead th {
        text-align: right;
    }
</style>
<table border="1" class="dataframe">
  <thead>
    <tr style="text-align: right;">
      <th></th>
      <th>1/2[1/2]NU</th>
      <th>10[10]NU</th>
      <th>1[1]NU</th>
      <th>2-kam-ma[2nd]NU</th>
      <th>2[2]NU</th>
      <th>3-kam-ma[3rd]NU</th>
      <th>3[3]NU</th>
      <th>4-kam-ma[4th]NU</th>
      <th>4[4]NU</th>
      <th>5-kam-ma[5th]NU</th>
      <th>...</th>
      <th>šud[prayer]N</th>
      <th>šudul[yoke]N</th>
      <th>šukur[ration]N</th>
      <th>šul[youth]V/i</th>
      <th>šul[youth]V/i Suen[1]DN</th>
      <th>šul[youth]V/i Utu[1]DN</th>
      <th>šuluh[cleansing]N</th>
      <th>šum[give]V/t</th>
      <th>šusi[finger]N</th>
      <th>šuš[cover]V/t</th>
    </tr>
    <tr>
      <th>id_text</th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
      <th></th>
    </tr>
  </thead>
  <tbody>
    <tr>
      <th>NEW</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>4</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.1</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.1.2</th>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.01</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.02</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.03</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.04</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.06</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.07</th>
      <td>0</td>
      <td>0</td>
      <td>5</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.0.2.08</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>...</th>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
      <td>...</td>
    </tr>
    <tr>
      <th>c.6.1.23</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.6.1.24</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>c.6.1.25</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
    </tr>
    <tr>
      <th>c.6.1.26</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>3</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.6.1.27</th>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.6.1.28</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.6.2.1</th>
      <td>1</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>1</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>2</td>
    </tr>
    <tr>
      <th>c.6.2.2</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
    </tr>
    <tr>
      <th>c.6.2.3</th>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>2</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>9</td>
      <td>3</td>
      <td>1</td>
    </tr>
    <tr>
      <th>c.6.2.5</th>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>...</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>0</td>
      <td>1</td>
      <td>0</td>
      <td>2</td>
    </tr>
  </tbody>
</table>
<p>357 rows × 773 columns</p>
</div></div></div>
</div>
<p>Output this dtm for use in part 2.</p>
<div class="cell docutils container">
<div class="cell_input docutils container">
<div class="highlight-ipython3 notranslate"><div class="highlight"><pre><span></span><span class="n">dtm2df</span><span class="o">.</span><span class="n">to_csv</span><span class="p">(</span><span class="s2">&quot;Data/cleanngrams.csv&quot;</span><span class="p">,</span> <span class="n">encoding</span><span class="o">=</span><span class="s2">&quot;utf-8&quot;</span><span class="p">)</span>
</pre></div>
</div>
</div>
</div>
<hr class="docutils" />
<!-- 
Notebook developed by: X, X, X
-->
<p>Data Science Modules: <a class="reference external" href="http://data.berkeley.edu/education/modules">http://data.berkeley.edu/education/modules</a></p>
</section>

    <script type="text/x-thebe-config">
    {
        requestKernel: true,
        binderOptions: {
            repo: "binder-examples/jupyter-stacks-datascience",
            ref: "master",
        },
        codeMirrorConfig: {
            theme: "abcdef",
            mode: "python"
        },
        kernelOptions: {
            name: "python3",
            path: "./content/cuneif-102a"
        },
        predefinedOutput: true
    }
    </script>
    <script>kernelName = 'python3'</script>

                </article>
              

              
              
              
              
                <footer class="prev-next-footer d-print-none">
                  
<div class="prev-next-area">
</div>
                </footer>
              
            </div>
            
            
              
                <div class="bd-sidebar-secondary bd-toc"><div class="sidebar-secondary-items sidebar-secondary__inner">


  <div class="sidebar-secondary-item">
  <div class="page-toc tocsection onthispage">
    <i class="fa-solid fa-list"></i> Contents
  </div>
  <nav class="bd-toc-nav page-toc">
    <ul class="visible nav section-nav flex-column">
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#">CUNEIF 102A</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-1-intro-to-python">Section 1: Intro to Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#exercise">Exercise</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#programming-in-python">Programming in Python</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#what-is-programming">What is Programming?</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#variables">Variables</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#variable-types">Variable Types</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arithmetic">Arithmetic</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#strings">Strings</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#functions">Functions</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#defining">Defining</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#calling">Calling</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#scope">Scope</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#activity">Activity</a></li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#control">Control</a><ul class="nav section-nav flex-column">
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#conditionals">Conditionals</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#if-statements">If Statements</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#for-loops">For Loops</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#table-arrays">Table &amp; Arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#arrays">Arrays</a></li>
<li class="toc-h3 nav-item toc-entry"><a class="reference internal nav-link" href="#tables">Tables</a><ul class="nav section-nav flex-column">
<li class="toc-h4 nav-item toc-entry"><a class="reference internal nav-link" href="#pandas"><code class="docutils literal notranslate"><span class="pre">pandas</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#section-2-data-read-prep">Section 2: Data Read &amp; Prep <a id="section 2"></a></a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#tfidf">TFIDF</a></li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#differences-between-documents">Differences between documents</a><ul class="visible nav section-nav flex-column">
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#cosine-distance">Cosine Distance</a></li>
<li class="toc-h2 nav-item toc-entry"><a class="reference internal nav-link" href="#euclidean-distance">Euclidean distance</a></li>
</ul>
</li>
<li class="toc-h1 nav-item toc-entry"><a class="reference internal nav-link" href="#n-grams">N- grams</a></li>
</ul>

  </nav></div>

</div></div>
              
            
          </div>
          <footer class="bd-footer-content">
            
<div class="bd-footer-content__inner container">
  
  <div class="footer-item">
    
<p class="component-author">
By Alex Nakagawa
</p>

  </div>
  
  <div class="footer-item">
    

  <p class="copyright">
    
      © Copyright 2023.
      <br/>
    
  </p>

  </div>
  
  <div class="footer-item">
    
  </div>
  
  <div class="footer-item">
    
  </div>
  
</div>
          </footer>
        

      </main>
    </div>
  </div>
  
  <!-- Scripts loaded after <body> so the DOM is not blocked -->
  <script src="../../_static/scripts/bootstrap.js?digest=dfe6caa3a7d634c4db9b"></script>
<script src="../../_static/scripts/pydata-sphinx-theme.js?digest=dfe6caa3a7d634c4db9b"></script>

  <footer class="bd-footer">
  </footer>
  </body>
</html>