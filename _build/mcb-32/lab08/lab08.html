---
interact_link: content/mcb-32/lab08/lab08.ipynb
kernel_name: python3
kernel_path: content/mcb-32/lab08
has_widgets: false
title: |-
  Lab 8
pagenum: 11
prev_page:
  url: /mcb-32/lab06/lab06.html
next_page:
  url: /mcb-32/lab09/lab09.html
suffix: .ipynb
search: alert div data arrays sv co lab class section map pd table tpr question ps arr create info below values array function ml b calculating c id hr calculations calculate times functions return makearray columns br nbspnbspnbsp cells note pressure output recall take returns strokevolume cardiacoutput notebook pdf exercise using

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div id="page-info"></div>
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="MCB-32:-Lab-08---Exercise-Physiology">MCB 32: Lab 08 - Exercise Physiology<a class="anchor-link" href="#MCB-32:-Lab-08---Exercise-Physiology"> </a></h1><hr>
<h3 id="Professor-Robin-Ball">Professor Robin Ball<a class="anchor-link" href="#Professor-Robin-Ball"> </a></h3><p>Using what you learned, you will create tables for the data you collected in this lab as well as the averaged class data. You will also graph the class data, so it is easier to visualize and find major trends.</p>
<p><em>Estimated Time: ~60 Minutes</em></p>
<hr>
<h3 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents"> </a></h3><p>1.<a href="#section-1">Data Analysis</a><br>
&nbsp;&nbsp;&nbsp; a. <a href="#section-1a">Entering and Naming your data</a><br>
&nbsp;&nbsp;&nbsp; b. <a href="#section-1b">Calculating SV and CO</a><br>
&nbsp;&nbsp;&nbsp; c. <a href="#section-1c">Calculating MAP and TPR</a></p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Completing-the-Notebooks">Completing the Notebooks<a class="anchor-link" href="#Completing-the-Notebooks"> </a></h4><div class="alert alert-info"> 

**QUESTION** cells are in blue and ask you to enter in lab data, make graphs, or do other lab tasks. To receive full credit for your lab, you must complete all **QUESTION** cells. **NOTE** cells are also in blue and present important information.


</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline
<span class="kn">from</span> <span class="nn">datascience</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">qgrid_bridge</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">qgrid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1.-Data-Analysis-">1. Data Analysis <a id="section-1" /><a class="anchor-link" href="#1.-Data-Analysis-"> </a></h1><h3 id="1a.-Entering-your-data-">1a. Entering your data <a id="section-1a" /><a class="anchor-link" href="#1a.-Entering-your-data-"> </a></h3><div class="alert alert-block alert-info">

**QUESTION:** Enter your data for Table 3 in the spreadsheet generated in the cell below. Note that "HR" stands for heart rate, "Ps" for systolic pressure, and "Pd" for diastolic pressure.

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Table-3:-Calculations-for-bicycle-or-other-step-exercise">Table 3: Calculations for bicycle or other step exercise<a class="anchor-link" href="#Table-3:-Calculations-for-bicycle-or-other-step-exercise"> </a></h4><div class="alert alert-warning">

For the `Power Output (W)` column, calculate the value as instructed in the lab manual. If you do not need this column, leave it as-is. It will not affect your calculations later.

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_3_grid</span> <span class="o">=</span> <span class="n">generate_grid</span><span class="p">(</span><span class="mi">3</span><span class="p">,</span> <span class="mi">5</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;Power Output (W)&quot;</span><span class="p">,</span> <span class="s2">&quot;HR (beats/min)&quot;</span><span class="p">,</span> <span class="s2">&quot;Ps (mmHg)&quot;</span><span class="p">,</span> <span class="s2">&quot;Pd (mmHg)&quot;</span><span class="p">],</span> 
                             <span class="n">preset_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Condition&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Resting&quot;</span><span class="p">,</span> <span class="s2">&quot;Light resistance&quot;</span><span class="p">,</span> <span class="s2">&quot;Moderate resistance&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">table_3_grid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="1b.-Calculating-SV-and-CO-">1b. Calculating SV and CO <a id="section-1b" /><a class="anchor-link" href="#1b.-Calculating-SV-and-CO-"> </a></h3><p>We will now calculate the stroke volume and cardiac output using your data. To begin, run the cell below to extract the data you input into the spreadsheet.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_3</span> <span class="o">=</span> <span class="n">get_table</span><span class="p">(</span><span class="n">table_3_grid</span><span class="p">)</span>
<span class="n">table_3</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Recall from the lab manual that the stroke volume $SV$ and the cardiac output $CO$ have the following formulas:</p>
$$SV = 1.7 \times (Ps - Pd)$$$$CO = SV \times HR = 1.7 \times (Ps - Pd) \times HR$$<p>Recall that SV is measured in ml/beat and CO in ml/min.</p>
<p>In order to calculate the SV and CO, we will start by defining two functions which take in arrays of Ps and Pd values and return another array of SV values and CO values.</p>
<p><strong>A quick note on array calculations:</strong> When you are doing calculations on arrays, any binary operators (e.g. +, -, *, \/) that you use will be <strong>broadcast</strong> to the rest of the array. For example,</p>
<div class="highlight"><pre><span></span><span class="n">arr</span> <span class="o">=</span> <span class="n">make_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="mi">2</span> <span class="o">*</span> <span class="n">arr</span>     <span class="c1"># returns array([2, 4, 6, 8])</span>
<span class="n">arr</span> <span class="o">+</span> <span class="mi">5</span>     <span class="c1"># returns array([6, 7, 8, 9])</span>
</pre></div>
<p>If you use these operators on two arrays, then the operation will be performed elementwise on the two arrays:</p>
<div class="highlight"><pre><span></span><span class="n">arr1</span> <span class="o">=</span> <span class="n">make_array</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">)</span>
<span class="n">arr2</span> <span class="o">=</span> <span class="n">make_array</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">6</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">8</span><span class="p">)</span>
<span class="n">arr1</span> <span class="o">+</span> <span class="n">arr2</span>     <span class="c1"># returns array([6, 8, 10, 12])</span>
</pre></div>
<p>Utilize these facts when you create your functions below.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-info">

**QUESTION:** Fill in the function definitions below to create `stroke_volume` and `cardiac_output` which take in arrays of Ps, Pd, and HR values and return arrays of the SV and CO, respectively. *Your `cardiac_output` function should call your `stroke_volume` function.*

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">stroke_volume</span><span class="p">(</span><span class="n">Ps</span><span class="p">,</span> <span class="n">Pd</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">cardiac_output</span><span class="p">(</span><span class="n">Ps</span><span class="p">,</span> <span class="n">Pd</span><span class="p">,</span> <span class="n">HR</span><span class="p">):</span>
    <span class="n">SV</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="o">...</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-info">

**QUESTION:** Call your functions on the necessary columns of `table_3` to create the arrays `SV` and `CO`. Add these arrays to the table as columns `SV (ml)` and `CO (ml/min)`. Remember that `stroke_volume` and `cardiac_output` return arrays of values, so you won't need to use `make_array`.

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">SV</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">CO</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">table_3</span> <span class="o">=</span> <span class="n">table_3</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
    <span class="o">...</span><span class="p">,</span> <span class="o">...</span>
<span class="p">)</span>
<span class="n">table_3</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="1c.-Calculating-MAP-and-TPR-">1c. Calculating MAP and TPR <a id="section-1c" /><a class="anchor-link" href="#1c.-Calculating-MAP-and-TPR-"> </a></h3><p>We will now calculate the mean arterial pressure (MAP) and total peripheral resistance (TPR). Recall these formulas:</p>
$$TPR = \frac{MAP}{CO}$$$$MAP = \frac{1}{3} (Ps - Pd) + Pd$$
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-info">

**QUESTION:** Fill in the function definitions below to create `mean_arterial_pressure` and `total_peripheral_resistance` which take in arrays of Ps and Pd values and return the MAP and TPR, respectively. _Your `total_peripheral_resistance` function should call your `mean_arterial_pressure` function._

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">mean_arterial_pressure</span><span class="p">(</span><span class="n">Ps</span><span class="p">,</span> <span class="n">Pd</span><span class="p">):</span>
    <span class="k">return</span> <span class="o">...</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="k">def</span> <span class="nf">total_peripheral_resistance</span><span class="p">(</span><span class="n">Ps</span><span class="p">,</span> <span class="n">Pd</span><span class="p">):</span>
    <span class="n">MAP</span> <span class="o">=</span> <span class="o">...</span>
    <span class="k">return</span> <span class="o">...</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-info">

**QUESTION:** Call your functions on the necessary columns of `table_3` to create the arrays `MAP` and `TPR`. Add these arrays to the table as columns `MAP (mmHg)` and `TPR (mmHg/ml/sec)`.

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">MAP</span> <span class="o">=</span> <span class="o">...</span>
<span class="n">TPR</span> <span class="o">=</span> <span class="o">...</span>

<span class="n">table_3</span> <span class="o">=</span> <span class="n">table_3</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
    <span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">,</span>
    <span class="o">...</span><span class="p">,</span> <span class="o">...</span>
<span class="p">)</span>
<span class="n">table_3</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Saving-the-Notebook-as-a-PDF">Saving the Notebook as a PDF<a class="anchor-link" href="#Saving-the-Notebook-as-a-PDF"> </a></h3><p>Congrats on finishing another lab notebook! To turn in this lab assignment follow the steps below:</p>
<blockquote><ol>
<li>Press <code>Control + P</code> (or <code>Command + P</code> on Mac) to open the Print preview</li>
<li>Change the destination so that it saves locally on your own computer.</li>
<li>Save as PDF</li>
<li>If you are stuck, follow further instructions <a href="https://www.wikihow.com/Save-a-Web-Page-as-a-PDF-in-Google-Chrome">here</a>.</li>
</ol>
</blockquote>
<p>Your lab instructor will explain to you what to do afterwards.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<p>Notebook developed by: Elaine Chien and Chris Pyles</p>
<p>Data Science Modules: <a href="http://data.berkeley.edu/education/modules">http://data.berkeley.edu/education/modules</a></p>

</div>
</div>
</div>
</div>

 


    </main>
    