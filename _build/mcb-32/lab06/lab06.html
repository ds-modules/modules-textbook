---
interact_link: content/mcb-32/lab06/lab06.ipynb
kernel_name: python3
kernel_path: content/mcb-32/lab06
has_widgets: false
title: |-
  Lab 6
pagenum: 10
prev_page:
  url: /mcb-32/lab05/lab05.html
next_page:
  url: /mcb-32/lab08/lab08.html
suffix: .ipynb
search: data table class alert graph div bar column using lab create tables hr below standard error heart bars want values change baseline into section id name barh value spreadsheet condition group deviation creating br lets groceries only dont info question rate temperature element array mean notebook pdf also easier nbspnbspnbsp

comment: "***PROGRAMMATICALLY GENERATED, DO NOT EDIT. SEE ORIGINAL FILES IN /content***"
---

    <main class="jupyter-page">
    <div id="page-info"></div>
    <div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="MCB-32:-Lab-06---Frog-Heart-Study">MCB 32: Lab 06 - Frog Heart Study<a class="anchor-link" href="#MCB-32:-Lab-06---Frog-Heart-Study"> </a></h1><hr>
<h3 id="Professor-Robin-Ball">Professor Robin Ball<a class="anchor-link" href="#Professor-Robin-Ball"> </a></h3><p>Using what you learned, you will create tables for the data you collected in this lab as well as the averaged class data. You will also graph the class data, so it is easier to visualize and find major trends.</p>
<p><em>Estimated Time: ~60 Minutes</em></p>
<hr>
<h3 id="Table-of-Contents">Table of Contents<a class="anchor-link" href="#Table-of-Contents"> </a></h3><ol>
<li><a href="#section_1">Creating a Bar Graph</a></li>
<li><a href="#section_2">Data Analysis</a> <br>
&nbsp;&nbsp;&nbsp; a. <a href="#section_2a">Entering your data</a><br>
&nbsp;&nbsp;&nbsp; b. <a href="#section_2b">Calculating class data</a><br>
&nbsp;&nbsp;&nbsp; c. <a href="#section_2c">Graphing class data</a></li>
</ol>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">%</span><span class="k">matplotlib</span> inline

<span class="kn">from</span> <span class="nn">datascience</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">import</span> <span class="nn">numpy</span> <span class="k">as</span> <span class="nn">np</span>
<span class="kn">import</span> <span class="nn">matplotlib.pyplot</span> <span class="k">as</span> <span class="nn">plt</span>
<span class="kn">from</span> <span class="nn">qgrid_bridge</span> <span class="k">import</span> <span class="o">*</span>
<span class="kn">from</span> <span class="nn">gspread_import</span> <span class="k">import</span> <span class="o">*</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="1.-Creating-a-Bar-Graph-">1. Creating a Bar Graph <a id="section_1" /><a class="anchor-link" href="#1.-Creating-a-Bar-Graph-"> </a></h1><p>You will learn how to create bar graphs to help you vizualize the data. We will draw bar graphs with horizontal bars because itâ€™s easier to label the bars that way. Let's start by creating a random table called groceries.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">item_name</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Apples&quot;</span><span class="p">,</span> <span class="s2">&quot;Bananas&quot;</span><span class="p">,</span> <span class="s2">&quot;Carrots&quot;</span><span class="p">]</span>
<span class="n">quantities</span> <span class="o">=</span> <span class="p">[</span><span class="mi">5</span><span class="p">,</span> <span class="mi">7</span><span class="p">,</span> <span class="mi">2</span><span class="p">]</span>
<span class="n">prices</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.20</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.75</span><span class="p">]</span>
<span class="n">weights</span> <span class="o">=</span> <span class="p">[</span><span class="mf">0.33</span><span class="p">,</span> <span class="mf">0.25</span><span class="p">,</span> <span class="mf">0.16</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span> <span class="o">=</span> <span class="n">Table</span><span class="p">()</span><span class="o">.</span><span class="n">with_columns</span><span class="p">(</span>
            <span class="s2">&quot;Item Name&quot;</span><span class="p">,</span> <span class="n">item_name</span><span class="p">,</span> 
            <span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="n">quantities</span><span class="p">,</span> 
            <span class="s2">&quot;Price&quot;</span><span class="p">,</span> <span class="n">prices</span><span class="p">,</span>
            <span class="s2">&quot;Weight&quot;</span><span class="p">,</span> <span class="n">weights</span><span class="p">)</span>
<span class="n">groceries</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>In this section, we will draw a graph of the distribution of quantities in the column <code>Quantity</code> and weights in <code>Weight</code> from the <code>groceries</code> table.</p>
<ul>
<li><code>select</code> is a handy method that creates a table with only the desired columns.</li>
</ul>
<p>We don't want the column <code>Price</code>, so we only select <code>Item Name</code>, <code>Quantity</code>, and <code>Weight</code>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;Weight&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To create the bar graph, we will use <code>barh</code>.</p>
<ul>
<li><code>barh</code> generates a bar graph of the values in a column. The argument is the column label of the categories. You can create a bar graph using <code>Table.barh(COLUMN_LABEL)</code>.</li>
</ul>
<p>Let's plot the new <code>groceries</code> table, using <code>Item Name</code> as the column label.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">,</span> <span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;Weight&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h1 id="2.-Data-Analysis-">2. Data Analysis <a id="section_2" /><a class="anchor-link" href="#2.-Data-Analysis-"> </a></h1><p>You will use what you learned last week to create tables for this lab. If you need a refresher, you can always refer back to the previous lab notebooks.</p>
<h3 id="2a.-Entering-your-data-">2a. Entering your data <a id="section_2a" /><a class="anchor-link" href="#2a.-Entering-your-data-"> </a></h3><div class="alert alert-block alert-info">

**QUESTION:** Create tables for Table 1, 2, and 3 that contain the data you collected. For the sake of efficiency, "HR" refers to the heart rate.

</div><h4 id="Table-1:-Temperature-Effects">Table 1: Temperature Effects<a class="anchor-link" href="#Table-1:-Temperature-Effects"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_1_grid</span> <span class="o">=</span> <span class="n">generate_grid</span><span class="p">(</span><span class="mi">5</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;HR&quot;</span><span class="p">],</span> <span class="n">preset_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Condition&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Human HR&quot;</span><span class="p">,</span> <span class="s2">&quot;Baseline frog HR&quot;</span><span class="p">,</span> <span class="s2">&quot;Warm temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Baseline before cold&quot;</span><span class="p">,</span>
                  <span class="s2">&quot;Cold temperature&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">table_1_grid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Table-2:-Neurotransmitter-Effects">Table 2: Neurotransmitter Effects<a class="anchor-link" href="#Table-2:-Neurotransmitter-Effects"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_2_grid</span> <span class="o">=</span> <span class="n">generate_grid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;HR&quot;</span><span class="p">],</span> <span class="n">preset_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Condition&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Baseline (before epinephrine)&quot;</span><span class="p">,</span> <span class="s2">&quot;+ epinephrine&quot;</span><span class="p">,</span> <span class="s2">&quot;After wash out (new baseline)&quot;</span><span class="p">,</span> 
                   <span class="s2">&quot;+ acetylcholine&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">table_2_grid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Table-3:-Effects-of-Electrolytes">Table 3: Effects of Electrolytes<a class="anchor-link" href="#Table-3:-Effects-of-Electrolytes"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_3_grid</span> <span class="o">=</span> <span class="n">generate_grid</span><span class="p">(</span><span class="mi">4</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;HR&quot;</span><span class="p">],</span> <span class="n">preset_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Condition&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Baseline (before KCl)&quot;</span><span class="p">,</span> <span class="s2">&quot;+ KCl&quot;</span><span class="p">,</span> <span class="s2">&quot;Baseline (before CaCl2)&quot;</span><span class="p">,</span> <span class="s2">&quot;+ CaCl2&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">table_3_grid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Run the cell below to extract the data from your spreadsheets.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_1</span> <span class="o">=</span> <span class="n">get_table</span><span class="p">(</span><span class="n">table_1_grid</span><span class="p">)</span>
<span class="n">table_2</span> <span class="o">=</span> <span class="n">get_table</span><span class="p">(</span><span class="n">table_2_grid</span><span class="p">)</span>
<span class="n">table_3</span> <span class="o">=</span> <span class="n">get_table</span><span class="p">(</span><span class="n">table_3_grid</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="Accessing-an-Element-in-a-List">Accessing an Element in a List<a class="anchor-link" href="#Accessing-an-Element-in-a-List"> </a></h3><p>So far, lists have been helpful when it comes to creating tables, but what if you want to access only the first element in the list? Here's how:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">example_list</span> <span class="o">=</span> <span class="p">[</span><span class="mi">1</span><span class="p">,</span> <span class="mi">2</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="mi">4</span><span class="p">,</span> <span class="mi">5</span><span class="p">]</span>
<span class="n">example_list</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Using square brackets <code>[ ]</code> allows you to grab a specific element. In Python, lists start at 0, rather than 1. This is why <code>example_list[0]</code> gives you the first element, <code>1</code>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Table-4:-Change-from-Baseline">Table 4: Change from Baseline<a class="anchor-link" href="#Table-4:-Change-from-Baseline"> </a></h4><div class="alert alert-info">

**QUESTION:** Using the data from Tables 1, 2, and 3, create Table 4 to show the change in heart rate from the baseline.

</div><p>To get the change from the baseline for the warm temperature, take the baseline frog HR value from Table 1 and subtract it from the warm temperature HR. For the change from baseline for the cold temperature, take the baseline before cold HR and subtract it from the cold HR. Do this for the other 4 conditions in the table below and input each value.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">table_4_grid</span> <span class="o">=</span> <span class="n">generate_grid</span><span class="p">(</span><span class="mi">6</span><span class="p">,</span> <span class="mi">3</span><span class="p">,</span> <span class="p">[</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;HR&quot;</span><span class="p">],</span> <span class="n">preset_values</span> <span class="o">=</span> <span class="p">{</span>
    <span class="s2">&quot;Condition&quot;</span> <span class="p">:</span> <span class="p">[</span><span class="s2">&quot;Warm temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Epinephrine&quot;</span><span class="p">,</span> <span class="s2">&quot;Acetylcholine&quot;</span><span class="p">,</span> <span class="s2">&quot;KCl&quot;</span><span class="p">,</span> <span class="s2">&quot;CaCl2&quot;</span><span class="p">]</span>
<span class="p">})</span>
<span class="n">table_4_grid</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-block alert-warning">

Make sure to input the data from Table 4 into the shared spreadsheet. **Do not continue this lab until everyone has put their data into the shared spreadsheet.**

<br>

**When you enter your data into the spreadsheet:** If you don't have a value for a particular condition (e.g. you have all but Epinephrine), add in the values that you have, but **don't** create a row for the missing value. Only enter rows into the spreadsheet for which you have a value!

</div>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2b.-Calculating-class-data-">2b. Calculating class data <a id="section_2b" /><a class="anchor-link" href="#2b.-Calculating-class-data-"> </a></h3><p>In order to make the class data available to you, we will pull it in from Google Sheets using <code>gspread</code>. To complete this process, <strong>paste the share link for the spreadsheet into the string <code>url</code> below and the sheet name in the string <code>sheet_name</code></strong>, then run the cell.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">url</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>
<span class="n">sheet_name</span> <span class="o">=</span> <span class="s2">&quot;&quot;</span>

<span class="n">class_data</span> <span class="o">=</span> <span class="n">get_spreadsheet</span><span class="p">(</span><span class="n">url</span><span class="p">,</span> <span class="n">sheet_name</span><span class="p">)</span>
<span class="n">class_data</span><span class="p">[</span><span class="s2">&quot;HR&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="p">[</span><span class="nb">float</span><span class="p">(</span><span class="n">i</span><span class="p">)</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">class_data</span><span class="p">[</span><span class="s2">&quot;HR&quot;</span><span class="p">]]</span>
<span class="n">class_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Now that we have all of the class data, we would like to group the heart rates and amplitudes and get some summary statistics on these groups. To group data, we use the <code>Table.group()</code> method which takes two arguments: the name of a column and an <em>aggregator function</em> to which an array of all of the values in a group will be passed.</p>
<p>This means that if we wanted the mean HR of the groups in the <code>Condition</code> column, we would make a call like the one below:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">averages</span> <span class="o">=</span> <span class="n">class_data</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">)</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="s2">&quot;HR mean&quot;</span><span class="p">)</span>

<span class="c1"># maintaining the order of the Condition variable</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Warm temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Epinephrine&quot;</span><span class="p">,</span> <span class="s2">&quot;Acetylcholine&quot;</span><span class="p">,</span> <span class="s2">&quot;KCl&quot;</span><span class="p">,</span> <span class="s2">&quot;CaCl2&quot;</span><span class="p">]</span>
<span class="n">averages</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_df</span><span class="p">(</span><span class="n">averages</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
<span class="n">averages</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>You should now have a table where each cell represents the mean of the HRs/amplitudes for the specified condition.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-info">

**QUESTION:** Create another table, `sdevs`, with the standard deviations for each `Condition` group by filling in the function call below.

</div><p><em>Hint:</em> The function <code>np.std</code> returns the standard deviation of an array of values.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">sdevs</span> <span class="o">=</span> <span class="n">class_data</span><span class="o">.</span><span class="n">group</span><span class="p">(</span><span class="o">...</span><span class="p">,</span> <span class="o">...</span><span class="p">)</span>

<span class="c1"># DO NOT EDIT ANY CODE BELOW THIS COMMENT</span>
<span class="c1"># maintaining the order of the Condition variable</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Warm temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Epinephrine&quot;</span><span class="p">,</span> <span class="s2">&quot;Acetylcholine&quot;</span><span class="p">,</span> <span class="s2">&quot;KCl&quot;</span><span class="p">,</span> <span class="s2">&quot;CaCl2&quot;</span><span class="p">]</span>
<span class="n">sdevs</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_df</span><span class="p">(</span><span class="n">sdevs</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
<span class="n">sdevs</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Finally, we want to concatenate these tables into a single table which will have a single <code>Condition</code> column, a column each for the HR mean and standard deviation, and a column each for the amplitude mean and standard deviation. This is accomplished using <code>Table.join()</code>:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">class_data</span> <span class="o">=</span> <span class="n">averages</span><span class="o">.</span><span class="n">join</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">,</span> <span class="n">sdevs</span><span class="p">)</span>

<span class="c1"># DO NOT EDIT ANY CODE BELOW THIS COMMENT</span>
<span class="c1"># maintaining the order of the Condition variable</span>
<span class="n">conditions</span> <span class="o">=</span> <span class="p">[</span><span class="s2">&quot;Warm temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Cold temperature&quot;</span><span class="p">,</span> <span class="s2">&quot;Epinephrine&quot;</span><span class="p">,</span> <span class="s2">&quot;Acetylcholine&quot;</span><span class="p">,</span> <span class="s2">&quot;KCl&quot;</span><span class="p">,</span> <span class="s2">&quot;CaCl2&quot;</span><span class="p">]</span>
<span class="n">class_data</span> <span class="o">=</span> <span class="n">Table</span><span class="o">.</span><span class="n">from_df</span><span class="p">(</span><span class="n">class_data</span><span class="o">.</span><span class="n">to_df</span><span class="p">()</span><span class="o">.</span><span class="n">set_index</span><span class="p">(</span><span class="s2">&quot;Condition&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">reindex</span><span class="p">(</span><span class="n">conditions</span><span class="p">)</span><span class="o">.</span><span class="n">reset_index</span><span class="p">())</span>
<span class="n">class_data</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h3 id="2c.-Graphing-class-data-">2c. Graphing class data <a id="section_2c" /><a class="anchor-link" href="#2c.-Graphing-class-data-"> </a></h3><p>Before we have you graph the class data, let's consider how to add error bars to a bar graph. Consider the bar plot below using our <code>groceries</code> table from earlier. Note here that instead of selecting out the columns we want, we use <code>Table.drop()</code> to drop the tables that we <em>don't</em> want.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;Weight&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">)</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>Let's say we want to (quite arbitrarily) include error bars to $\pm$ 20% of the values shown in the bar graph. We would start by adding these errors to the table:</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span> <span class="o">=</span> <span class="n">groceries</span><span class="o">.</span><span class="n">with_column</span><span class="p">(</span>
    <span class="s2">&quot;Price Error&quot;</span><span class="p">,</span> <span class="p">[</span><span class="o">.</span><span class="mi">2</span> <span class="o">*</span> <span class="n">i</span> <span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="n">groceries</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;Price&quot;</span><span class="p">)]</span>
<span class="p">)</span>
<span class="n">groceries</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>To generate a plot with error bars, we just need to pass the <code>xerr</code> argument to <code>Table.barh()</code>.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="n">groceries</span><span class="o">.</span><span class="n">drop</span><span class="p">(</span><span class="s2">&quot;Quantity&quot;</span><span class="p">,</span> <span class="s2">&quot;Weight&quot;</span><span class="p">,</span> <span class="s2">&quot;Price Error&quot;</span><span class="p">)</span><span class="o">.</span><span class="n">barh</span><span class="p">(</span><span class="s2">&quot;Item Name&quot;</span><span class="p">,</span> 
                                                         <span class="n">xerr</span><span class="o">=</span><span class="n">np</span><span class="o">.</span><span class="n">flip</span><span class="p">(</span><span class="n">groceries</span><span class="o">.</span><span class="n">column</span><span class="p">(</span><span class="s2">&quot;Price Error&quot;</span><span class="p">)))</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<p>The essential part of the code is adding the <code>xerr</code> parameter to the <code>Table.barh()</code> call. Note that we passed the <em>array</em> of values to <code>xerr</code>, <strong>not</strong> the column name. Note also that we had to reverse the array (using <code>np.flip</code>) because of the difference in how <code>matplotlib</code> and <code>datascience</code> interpret axes.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<h4 id="Graph-1:-Change-in-Heart-Rate-and-Standard-Deviation-Error-(from-Class-Data)">Graph 1: Change in Heart Rate and Standard Deviation Error (from Class Data)<a class="anchor-link" href="#Graph-1:-Change-in-Heart-Rate-and-Standard-Deviation-Error-(from-Class-Data)"> </a></h4>
</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<div class="alert alert-block alert-info">

**QUESTION:** Use the table we just created to make a bar graph of the average data for heart rate and amplitude. _Include error bars using the standard deviation as the error._ To make your graph easier to read, include a vertical line at $x=0$ by adding `plt.axvline(x=0, color="k")` to your solution.

</div><p><em>Hint:</em> You already have the error information in the <code>class_data</code> table since we put the standard deviations in earlier.</p>

</div>
</div>
</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing code_cell rendered">
<div class="input">

<div class="inner_cell">
    <div class="input_area">
<div class=" highlight hl-ipython3"><pre><span></span><span class="o">...</span>
</pre></div>

    </div>
</div>
</div>

</div>
</div>

<div class="jb_cell">

<div class="cell border-box-sizing text_cell rendered"><div class="inner_cell">
<div class="text_cell_render border-box-sizing rendered_html">
<hr>
<h3 id="Saving-the-Notebook-as-a-PDF">Saving the Notebook as a PDF<a class="anchor-link" href="#Saving-the-Notebook-as-a-PDF"> </a></h3><p>Congrats on finishing your first lab notebook! To turn in this lab assignment follow the steps below:</p>
<blockquote><ol>
<li>Press <code>Control + P</code> (or <code>Command + P</code> on Mac) to open the Print preview</li>
<li>Change the destination so that it saves locally on your own computer.</li>
<li>Save as PDF</li>
<li>If you are stuck, follow further instructions <a href="https://www.wikihow.com/Save-a-Web-Page-as-a-PDF-in-Google-Chrome">here</a>.</li>
</ol>
</blockquote>
<div class="alert alert-warning">

You must also submit your tables with your lab report. To do this, take a screenshot of this notebook or of the PDF you just made, crop it to your table, and add this to your report.

</div><h2 id="Your-lab-instructor-will-explain-to-you-what-to-do-afterwards.">Your lab instructor will explain to you what to do afterwards.<a class="anchor-link" href="#Your-lab-instructor-will-explain-to-you-what-to-do-afterwards."> </a></h2><h4 id="References">References<a class="anchor-link" href="#References"> </a></h4><ul>
<li>UC Berkeley Foundations of Data Science (Data 8) Textbook: <a href="https://www.inferentialthinking.com/chapters/intro">https://www.inferentialthinking.com/chapters/intro</a></li>
</ul>
<hr>
<p>Notebook developed by: Samantha Yuan and Chris Pyles</p>
<p>Data Science Modules: <a href="http://data.berkeley.edu/education/modules">http://data.berkeley.edu/education/modules</a></p>

</div>
</div>
</div>
</div>

 


    </main>
    